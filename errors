2025-10-08T03:40:57.111329Z [info     ] Loaded 2 tools for execution   [chatter.core.workflow_execution_engine] correlation_id=01K70YGS5ES17SMV8NEJ4TM3DQ
2025-10-08T03:40:57.111461Z [info     ] Started workflow tracking      [chatter.core.monitoring] correlation_id=01K70YGS5ES17SMV8NEJ4TM3DQ user_id=01K6YWM760SKE7DZ1XTJBQ5NF2 workflow_id=01K70YGSCQ2QDPAT0TZJ4WPDHR
2025-10-08T03:40:57.111559Z [info     ] Started tracking workflow execution 01K70YGS686AT2CXZGVJGHA6PS [chatter.core.workflow_tracker] correlation_id=01K70YGS5ES17SMV8NEJ4TM3DQ user_id=01K6YWM760SKE7DZ1XTJBQ5NF2 workflow_type=chat
2025-10-08T03:40:57.111654Z [info     ] Using memory checkpointer      [chatter.core.langgraph] correlation_id=01K70YGS5ES17SMV8NEJ4TM3DQ
2025-10-08T03:40:57.111857Z [info     ] Creating workflow nodes        [chatter.core.workflow_graph_builder] correlation_id=01K70YGS5ES17SMV8NEJ4TM3DQ has_retriever=False has_tools=True node_count=3
2025-10-08T03:40:57.117667Z [debug    ] Created modern workflow        [chatter.core.langgraph] correlation_id=01K70YGS5ES17SMV8NEJ4TM3DQ edges=5 nodes=3 recursion_limit=40
2025-10-08T03:40:57.121172Z [info     ] LLM Node call_model applying context [chatter.core.workflow_graph_builder] correlation_id=01K70YGS5ES17SMV8NEJ4TM3DQ has_retrieval_context=False retrieval_context_length=0
Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-14361f1d-5f97-4848-972d-6876cf9e6a4d', 'json_data': {'messages': [{'content': 'You are a helpful assistant.', 'role': 'system'}, {'content': 'what time is it?', 'role': 'user'}], 'model': 'gpt-4', 'max_completion_tokens': 4096, 'stream': True, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'calculator', 'description': 'Perform basic mathematical calculations', 'parameters': {'properties': {'expression': {'type': 'string'}}, 'required': ['expression'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'get_time', 'description': "Get the current date and time. Call this function once if needed, optionally specifying a timezone using 'tz' (e.g., 'America/Denver'). After calling, use the returned time to answer the user's question in natural language.", 'parameters': {'properties': {}, 'type': 'object'}}}]}}
Sending HTTP Request: POST http://localhost:8080/v1/chat/completions
connect_tcp.started host='localhost' port=8080 local_address=None timeout=None socket_options=None
connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x728f0f780bf0>
send_request_headers.started request=<Request [b'POST']>
send_request_headers.complete
send_request_body.started request=<Request [b'POST']>
send_request_body.complete
receive_response_headers.started request=<Request [b'POST']>
receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Keep-Alive', b'timeout=5, max=100'), (b'Content-Type', b'text/event-stream'), (b'Server', b'llama.cpp'), (b'Transfer-Encoding', b'chunked'), (b'Access-Control-Allow-Origin', b'')])
HTTP Request: POST http://localhost:8080/v1/chat/completions "HTTP/1.1 200 OK"
HTTP Response: POST http://localhost:8080/v1/chat/completions "200 OK" Headers({'keep-alive': 'timeout=5, max=100', 'content-type': 'text/event-stream', 'server': 'llama.cpp', 'transfer-encoding': 'chunked', 'access-control-allow-origin': ''})
request_id: None
receive_response_body.started request=<Request [b'POST']>
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={}, response_metadata={}, id='run--ad2e8e78-fc63-47a1-8a31-42af6c8dfa5c')}, 'run_id': 'ad2e8e78-fc63-47a1-8a31-42af6c8dfa5c', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 1, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:5a4127a4-dfca-ce3a-92c3-7fc5bca105e4', 'checkpoint_ns': 'call_model:5a4127a4-dfca-ce3a-92c3-7fc5bca105e4', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', 'a56e5dfb-68cc-403f-8501-2a52a1abd643']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': 'YsASpor5lAXOfPdVVOCBNaHLmxRIwh7f', 'function': {'arguments': '{', 'name': 'get_time'}, 'type': 'function'}]}, response_metadata={}, id='run--ad2e8e78-fc63-47a1-8a31-42af6c8dfa5c', tool_calls=[{'name': 'get_time', 'args': {}, 'id': 'YsASpor5lAXOfPdVVOCBNaHLmxRIwh7f', 'type': 'tool_call'}], tool_call_chunks=[{'name': 'get_time', 'args': '{', 'id': 'YsASpor5lAXOfPdVVOCBNaHLmxRIwh7f', 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': 'ad2e8e78-fc63-47a1-8a31-42af6c8dfa5c', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 1, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:5a4127a4-dfca-ce3a-92c3-7fc5bca105e4', 'checkpoint_ns': 'call_model:5a4127a4-dfca-ce3a-92c3-7fc5bca105e4', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', 'a56e5dfb-68cc-403f-8501-2a52a1abd643']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': None, 'function': {'arguments': '}', 'name': None}, 'type': None}]}, response_metadata={}, id='run--ad2e8e78-fc63-47a1-8a31-42af6c8dfa5c', invalid_tool_calls=[{'name': None, 'args': '}', 'id': None, 'error': None, 'type': 'invalid_tool_call'}], tool_call_chunks=[{'name': None, 'args': '}', 'id': None, 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': 'ad2e8e78-fc63-47a1-8a31-42af6c8dfa5c', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 1, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:5a4127a4-dfca-ce3a-92c3-7fc5bca105e4', 'checkpoint_ns': 'call_model:5a4127a4-dfca-ce3a-92c3-7fc5bca105e4', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', 'a56e5dfb-68cc-403f-8501-2a52a1abd643']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={}, response_metadata={'finish_reason': 'tool_calls', 'model_name': 'gpt-4', 'system_fingerprint': 'b5833-a0374a67'}, id='run--ad2e8e78-fc63-47a1-8a31-42af6c8dfa5c', usage_metadata={'input_tokens': 278, 'output_tokens': 13, 'total_tokens': 291, 'input_token_details': {}, 'output_token_details': {}})}, 'run_id': 'ad2e8e78-fc63-47a1-8a31-42af6c8dfa5c', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 1, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:5a4127a4-dfca-ce3a-92c3-7fc5bca105e4', 'checkpoint_ns': 'call_model:5a4127a4-dfca-ce3a-92c3-7fc5bca105e4', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', 'a56e5dfb-68cc-403f-8501-2a52a1abd643']}
receive_response_body.complete
response_closed.started
response_closed.complete
close.started
close.complete
EVENT {'event': 'on_chat_model_end', 'data': {'output': AIMessage(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': 'YsASpor5lAXOfPdVVOCBNaHLmxRIwh7f', 'function': {'arguments': '{}', 'name': 'get_time'}, 'type': 'function'}]}, response_metadata={'finish_reason': 'tool_calls', 'model_name': 'gpt-4', 'system_fingerprint': 'b5833-a0374a67'}, id='run--ad2e8e78-fc63-47a1-8a31-42af6c8dfa5c', tool_calls=[{'name': 'get_time', 'args': {}, 'id': 'YsASpor5lAXOfPdVVOCBNaHLmxRIwh7f', 'type': 'tool_call'}], usage_metadata={'input_tokens': 278, 'output_tokens': 13, 'total_tokens': 291, 'input_token_details': {}, 'output_token_details': {}}), 'input': {'messages': [[SystemMessage(content='You are a helpful assistant.', additional_kwargs={}, response_metadata={}), HumanMessage(content='what time is it?', additional_kwargs={}, response_metadata={})]]}}, 'run_id': 'ad2e8e78-fc63-47a1-8a31-42af6c8dfa5c', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 1, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:5a4127a4-dfca-ce3a-92c3-7fc5bca105e4', 'checkpoint_ns': 'call_model:5a4127a4-dfca-ce3a-92c3-7fc5bca105e4', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', 'a56e5dfb-68cc-403f-8501-2a52a1abd643']}
=============================================
TOTAL 291
TOTAL 13
2025-10-08T03:40:58.653974Z [debug    ] HTTP Response                  [chatter.main] correlation_id=01K70YGS5ES17SMV8NEJ4TM3DQ duration=1.7783489227294922 duration_ms=1778.3489227294922 headers={'cache-control': 'no-cache', 'connection': 'keep-alive', 'content-type': 'text/event-stream; charset=utf-8', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-xss-protection': '1; mode=block', 'strict-transport-security': 'max-age=31536000; includeSubDomains', 'referrer-policy': 'strict-origin-when-cross-origin', 'x-correlation-id': '01K70YGS5ES17SMV8NEJ4TM3DQ', 'x-ratelimit-limit': '100', 'x-ratelimit-remaining': '99', 'x-ratelimit-reset': '1759894916', 'x-ratelimit-window': '60'} status_code=200
2025-10-08T03:40:58.654202Z [debug    ] Recorded request metrics       [chatter.core.monitoring] method=POST path=/api/v1/workflows/execute/chat/streaming response_time_ms=1778.3489227294922
INFO:     127.0.0.1:63604 - "POST /api/v1/workflows/execute/chat/streaming HTTP/1.1" 200 OK
2025-10-08T03:40:58.657846Z [info     ] LLM Node call_model applying context [chatter.core.workflow_graph_builder] correlation_id=01K70YGS5ES17SMV8NEJ4TM3DQ has_retrieval_context=False retrieval_context_length=0
Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-408d1cc7-fdf4-4d37-a4b6-5a7bdd9bb225', 'json_data': {'messages': [{'content': 'You are a helpful assistant.', 'role': 'system'}, {'content': '2025-10-07T22:40:58.656714', 'role': 'tool', 'tool_call_id': 'YsASpor5lAXOfPdVVOCBNaHLmxRIwh7f'}], 'model': 'gpt-4', 'max_completion_tokens': 4096, 'stream': True, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'calculator', 'description': 'Perform basic mathematical calculations', 'parameters': {'properties': {'expression': {'type': 'string'}}, 'required': ['expression'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'get_time', 'description': "Get the current date and time. Call this function once if needed, optionally specifying a timezone using 'tz' (e.g., 'America/Denver'). After calling, use the returned time to answer the user's question in natural language.", 'parameters': {'properties': {}, 'type': 'object'}}}]}}
Sending HTTP Request: POST http://localhost:8080/v1/chat/completions
connect_tcp.started host='localhost' port=8080 local_address=None timeout=None socket_options=None
connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x728f0f37cbf0>
send_request_headers.started request=<Request [b'POST']>
send_request_headers.complete
send_request_body.started request=<Request [b'POST']>
send_request_body.complete
receive_response_headers.started request=<Request [b'POST']>
receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Keep-Alive', b'timeout=5, max=100'), (b'Content-Type', b'text/event-stream'), (b'Server', b'llama.cpp'), (b'Transfer-Encoding', b'chunked'), (b'Access-Control-Allow-Origin', b'')])
HTTP Request: POST http://localhost:8080/v1/chat/completions "HTTP/1.1 200 OK"
HTTP Response: POST http://localhost:8080/v1/chat/completions "200 OK" Headers({'keep-alive': 'timeout=5, max=100', 'content-type': 'text/event-stream', 'server': 'llama.cpp', 'transfer-encoding': 'chunked', 'access-control-allow-origin': ''})
request_id: None
receive_response_body.started request=<Request [b'POST']>
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={}, response_metadata={}, id='run--d109d945-5c8e-4162-9d4b-7e37bc509f96')}, 'run_id': 'd109d945-5c8e-4162-9d4b-7e37bc509f96', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 3, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:1a62d687-be01-7744-7d30-28ac0c8599a1', 'checkpoint_ns': 'call_model:1a62d687-be01-7744-7d30-28ac0c8599a1', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '3b10ec37-1caa-410a-92df-cfd6768d49eb']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': 'kfuHYKXr15vmdwxR210szOomgzU77WOh', 'function': {'arguments': '{', 'name': 'get_time'}, 'type': 'function'}]}, response_metadata={}, id='run--d109d945-5c8e-4162-9d4b-7e37bc509f96', tool_calls=[{'name': 'get_time', 'args': {}, 'id': 'kfuHYKXr15vmdwxR210szOomgzU77WOh', 'type': 'tool_call'}], tool_call_chunks=[{'name': 'get_time', 'args': '{', 'id': 'kfuHYKXr15vmdwxR210szOomgzU77WOh', 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': 'd109d945-5c8e-4162-9d4b-7e37bc509f96', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 3, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:1a62d687-be01-7744-7d30-28ac0c8599a1', 'checkpoint_ns': 'call_model:1a62d687-be01-7744-7d30-28ac0c8599a1', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '3b10ec37-1caa-410a-92df-cfd6768d49eb']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': None, 'function': {'arguments': '}', 'name': None}, 'type': None}]}, response_metadata={}, id='run--d109d945-5c8e-4162-9d4b-7e37bc509f96', invalid_tool_calls=[{'name': None, 'args': '}', 'id': None, 'error': None, 'type': 'invalid_tool_call'}], tool_call_chunks=[{'name': None, 'args': '}', 'id': None, 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': 'd109d945-5c8e-4162-9d4b-7e37bc509f96', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 3, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:1a62d687-be01-7744-7d30-28ac0c8599a1', 'checkpoint_ns': 'call_model:1a62d687-be01-7744-7d30-28ac0c8599a1', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '3b10ec37-1caa-410a-92df-cfd6768d49eb']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={}, response_metadata={'finish_reason': 'tool_calls', 'model_name': 'gpt-4', 'system_fingerprint': 'b5833-a0374a67'}, id='run--d109d945-5c8e-4162-9d4b-7e37bc509f96', usage_metadata={'input_tokens': 291, 'output_tokens': 14, 'total_tokens': 305, 'input_token_details': {}, 'output_token_details': {}})}, 'run_id': 'd109d945-5c8e-4162-9d4b-7e37bc509f96', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 3, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:1a62d687-be01-7744-7d30-28ac0c8599a1', 'checkpoint_ns': 'call_model:1a62d687-be01-7744-7d30-28ac0c8599a1', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '3b10ec37-1caa-410a-92df-cfd6768d49eb']}
receive_response_body.complete
response_closed.started
response_closed.complete
close.started
close.complete
EVENT {'event': 'on_chat_model_end', 'data': {'output': AIMessage(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': 'kfuHYKXr15vmdwxR210szOomgzU77WOh', 'function': {'arguments': '{}', 'name': 'get_time'}, 'type': 'function'}]}, response_metadata={'finish_reason': 'tool_calls', 'model_name': 'gpt-4', 'system_fingerprint': 'b5833-a0374a67'}, id='run--d109d945-5c8e-4162-9d4b-7e37bc509f96', tool_calls=[{'name': 'get_time', 'args': {}, 'id': 'kfuHYKXr15vmdwxR210szOomgzU77WOh', 'type': 'tool_call'}], usage_metadata={'input_tokens': 291, 'output_tokens': 14, 'total_tokens': 305, 'input_token_details': {}, 'output_token_details': {}}), 'input': {'messages': [[SystemMessage(content='You are a helpful assistant.', additional_kwargs={}, response_metadata={}), ToolMessage(content='2025-10-07T22:40:58.656714', tool_call_id='YsASpor5lAXOfPdVVOCBNaHLmxRIwh7f')]]}}, 'run_id': 'd109d945-5c8e-4162-9d4b-7e37bc509f96', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 3, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:1a62d687-be01-7744-7d30-28ac0c8599a1', 'checkpoint_ns': 'call_model:1a62d687-be01-7744-7d30-28ac0c8599a1', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '3b10ec37-1caa-410a-92df-cfd6768d49eb']}
=============================================
TOTAL 305
TOTAL 14
2025-10-08T03:41:00.334614Z [info     ] LLM Node call_model applying context [chatter.core.workflow_graph_builder] correlation_id=01K70YGS5ES17SMV8NEJ4TM3DQ has_retrieval_context=False retrieval_context_length=0
Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-c30a3c7f-e9ef-4622-8ec7-2039ff04239a', 'json_data': {'messages': [{'content': 'You are a helpful assistant.', 'role': 'system'}, {'content': '2025-10-07T22:41:00.333487', 'role': 'tool', 'tool_call_id': 'kfuHYKXr15vmdwxR210szOomgzU77WOh'}], 'model': 'gpt-4', 'max_completion_tokens': 4096, 'stream': True, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'calculator', 'description': 'Perform basic mathematical calculations', 'parameters': {'properties': {'expression': {'type': 'string'}}, 'required': ['expression'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'get_time', 'description': "Get the current date and time. Call this function once if needed, optionally specifying a timezone using 'tz' (e.g., 'America/Denver'). After calling, use the returned time to answer the user's question in natural language.", 'parameters': {'properties': {}, 'type': 'object'}}}]}}
Sending HTTP Request: POST http://localhost:8080/v1/chat/completions
connect_tcp.started host='localhost' port=8080 local_address=None timeout=None socket_options=None
connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x728f0f37e210>
send_request_headers.started request=<Request [b'POST']>
send_request_headers.complete
send_request_body.started request=<Request [b'POST']>
send_request_body.complete
receive_response_headers.started request=<Request [b'POST']>
receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Keep-Alive', b'timeout=5, max=100'), (b'Content-Type', b'text/event-stream'), (b'Server', b'llama.cpp'), (b'Transfer-Encoding', b'chunked'), (b'Access-Control-Allow-Origin', b'')])
HTTP Request: POST http://localhost:8080/v1/chat/completions "HTTP/1.1 200 OK"
HTTP Response: POST http://localhost:8080/v1/chat/completions "200 OK" Headers({'keep-alive': 'timeout=5, max=100', 'content-type': 'text/event-stream', 'server': 'llama.cpp', 'transfer-encoding': 'chunked', 'access-control-allow-origin': ''})
request_id: None
receive_response_body.started request=<Request [b'POST']>
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={}, response_metadata={}, id='run--db0a9d34-01dc-469c-9b6f-b9e774863f9a')}, 'run_id': 'db0a9d34-01dc-469c-9b6f-b9e774863f9a', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 5, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:480faafa-7a42-9ffb-e78e-16b5f1841889', 'checkpoint_ns': 'call_model:480faafa-7a42-9ffb-e78e-16b5f1841889', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', 'b1ada623-598d-4c2b-a12b-a6064d6c5b28']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': 've376Qfo0grLy6M7t2aMAcWc4tpH1trq', 'function': {'arguments': '{', 'name': 'get_time'}, 'type': 'function'}]}, response_metadata={}, id='run--db0a9d34-01dc-469c-9b6f-b9e774863f9a', tool_calls=[{'name': 'get_time', 'args': {}, 'id': 've376Qfo0grLy6M7t2aMAcWc4tpH1trq', 'type': 'tool_call'}], tool_call_chunks=[{'name': 'get_time', 'args': '{', 'id': 've376Qfo0grLy6M7t2aMAcWc4tpH1trq', 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': 'db0a9d34-01dc-469c-9b6f-b9e774863f9a', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 5, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:480faafa-7a42-9ffb-e78e-16b5f1841889', 'checkpoint_ns': 'call_model:480faafa-7a42-9ffb-e78e-16b5f1841889', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', 'b1ada623-598d-4c2b-a12b-a6064d6c5b28']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': None, 'function': {'arguments': '}', 'name': None}, 'type': None}]}, response_metadata={}, id='run--db0a9d34-01dc-469c-9b6f-b9e774863f9a', invalid_tool_calls=[{'name': None, 'args': '}', 'id': None, 'error': None, 'type': 'invalid_tool_call'}], tool_call_chunks=[{'name': None, 'args': '}', 'id': None, 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': 'db0a9d34-01dc-469c-9b6f-b9e774863f9a', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 5, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:480faafa-7a42-9ffb-e78e-16b5f1841889', 'checkpoint_ns': 'call_model:480faafa-7a42-9ffb-e78e-16b5f1841889', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', 'b1ada623-598d-4c2b-a12b-a6064d6c5b28']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={}, response_metadata={'finish_reason': 'tool_calls', 'model_name': 'gpt-4', 'system_fingerprint': 'b5833-a0374a67'}, id='run--db0a9d34-01dc-469c-9b6f-b9e774863f9a', usage_metadata={'input_tokens': 291, 'output_tokens': 20, 'total_tokens': 311, 'input_token_details': {}, 'output_token_details': {}})}, 'run_id': 'db0a9d34-01dc-469c-9b6f-b9e774863f9a', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 5, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:480faafa-7a42-9ffb-e78e-16b5f1841889', 'checkpoint_ns': 'call_model:480faafa-7a42-9ffb-e78e-16b5f1841889', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', 'b1ada623-598d-4c2b-a12b-a6064d6c5b28']}
receive_response_body.complete
response_closed.started
response_closed.complete
close.started
close.complete
EVENT {'event': 'on_chat_model_end', 'data': {'output': AIMessage(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': 've376Qfo0grLy6M7t2aMAcWc4tpH1trq', 'function': {'arguments': '{}', 'name': 'get_time'}, 'type': 'function'}]}, response_metadata={'finish_reason': 'tool_calls', 'model_name': 'gpt-4', 'system_fingerprint': 'b5833-a0374a67'}, id='run--db0a9d34-01dc-469c-9b6f-b9e774863f9a', tool_calls=[{'name': 'get_time', 'args': {}, 'id': 've376Qfo0grLy6M7t2aMAcWc4tpH1trq', 'type': 'tool_call'}], usage_metadata={'input_tokens': 291, 'output_tokens': 20, 'total_tokens': 311, 'input_token_details': {}, 'output_token_details': {}}), 'input': {'messages': [[SystemMessage(content='You are a helpful assistant.', additional_kwargs={}, response_metadata={}), ToolMessage(content='2025-10-07T22:41:00.333487', tool_call_id='kfuHYKXr15vmdwxR210szOomgzU77WOh')]]}}, 'run_id': 'db0a9d34-01dc-469c-9b6f-b9e774863f9a', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 5, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:480faafa-7a42-9ffb-e78e-16b5f1841889', 'checkpoint_ns': 'call_model:480faafa-7a42-9ffb-e78e-16b5f1841889', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', 'b1ada623-598d-4c2b-a12b-a6064d6c5b28']}
=============================================
TOTAL 311
TOTAL 20
2025-10-08T03:41:02.457667Z [info     ] LLM Node call_model applying context [chatter.core.workflow_graph_builder] correlation_id=01K70YGS5ES17SMV8NEJ4TM3DQ has_retrieval_context=False retrieval_context_length=0
Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-a8572c58-03bf-48bd-9575-ca3071821011', 'json_data': {'messages': [{'content': 'You are a helpful assistant.', 'role': 'system'}, {'content': '2025-10-07T22:41:02.456323', 'role': 'tool', 'tool_call_id': 've376Qfo0grLy6M7t2aMAcWc4tpH1trq'}], 'model': 'gpt-4', 'max_completion_tokens': 4096, 'stream': True, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'calculator', 'description': 'Perform basic mathematical calculations', 'parameters': {'properties': {'expression': {'type': 'string'}}, 'required': ['expression'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'get_time', 'description': "Get the current date and time. Call this function once if needed, optionally specifying a timezone using 'tz' (e.g., 'America/Denver'). After calling, use the returned time to answer the user's question in natural language.", 'parameters': {'properties': {}, 'type': 'object'}}}]}}
Sending HTTP Request: POST http://localhost:8080/v1/chat/completions
connect_tcp.started host='localhost' port=8080 local_address=None timeout=None socket_options=None
connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x728f0f552900>
send_request_headers.started request=<Request [b'POST']>
send_request_headers.complete
send_request_body.started request=<Request [b'POST']>
send_request_body.complete
receive_response_headers.started request=<Request [b'POST']>
receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Keep-Alive', b'timeout=5, max=100'), (b'Content-Type', b'text/event-stream'), (b'Server', b'llama.cpp'), (b'Transfer-Encoding', b'chunked'), (b'Access-Control-Allow-Origin', b'')])
HTTP Request: POST http://localhost:8080/v1/chat/completions "HTTP/1.1 200 OK"
HTTP Response: POST http://localhost:8080/v1/chat/completions "200 OK" Headers({'keep-alive': 'timeout=5, max=100', 'content-type': 'text/event-stream', 'server': 'llama.cpp', 'transfer-encoding': 'chunked', 'access-control-allow-origin': ''})
request_id: None
receive_response_body.started request=<Request [b'POST']>
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={}, response_metadata={}, id='run--9e9d3db7-7c76-4759-b0bf-4e6b0219fe32')}, 'run_id': '9e9d3db7-7c76-4759-b0bf-4e6b0219fe32', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 7, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:7369f523-57e8-5b0f-fbf8-3e1c7a2b1724', 'checkpoint_ns': 'call_model:7369f523-57e8-5b0f-fbf8-3e1c7a2b1724', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '4f7dd816-448a-4c28-84ef-5d7af1d0d0fe']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': 'eHHe9B0r6vchVZdl78rGm0tjqr3hXF8T', 'function': {'arguments': '{', 'name': 'get_time'}, 'type': 'function'}]}, response_metadata={}, id='run--9e9d3db7-7c76-4759-b0bf-4e6b0219fe32', tool_calls=[{'name': 'get_time', 'args': {}, 'id': 'eHHe9B0r6vchVZdl78rGm0tjqr3hXF8T', 'type': 'tool_call'}], tool_call_chunks=[{'name': 'get_time', 'args': '{', 'id': 'eHHe9B0r6vchVZdl78rGm0tjqr3hXF8T', 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': '9e9d3db7-7c76-4759-b0bf-4e6b0219fe32', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 7, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:7369f523-57e8-5b0f-fbf8-3e1c7a2b1724', 'checkpoint_ns': 'call_model:7369f523-57e8-5b0f-fbf8-3e1c7a2b1724', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '4f7dd816-448a-4c28-84ef-5d7af1d0d0fe']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': None, 'function': {'arguments': '}', 'name': None}, 'type': None}]}, response_metadata={}, id='run--9e9d3db7-7c76-4759-b0bf-4e6b0219fe32', invalid_tool_calls=[{'name': None, 'args': '}', 'id': None, 'error': None, 'type': 'invalid_tool_call'}], tool_call_chunks=[{'name': None, 'args': '}', 'id': None, 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': '9e9d3db7-7c76-4759-b0bf-4e6b0219fe32', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 7, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:7369f523-57e8-5b0f-fbf8-3e1c7a2b1724', 'checkpoint_ns': 'call_model:7369f523-57e8-5b0f-fbf8-3e1c7a2b1724', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '4f7dd816-448a-4c28-84ef-5d7af1d0d0fe']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={}, response_metadata={'finish_reason': 'tool_calls', 'model_name': 'gpt-4', 'system_fingerprint': 'b5833-a0374a67'}, id='run--9e9d3db7-7c76-4759-b0bf-4e6b0219fe32', usage_metadata={'input_tokens': 291, 'output_tokens': 14, 'total_tokens': 305, 'input_token_details': {}, 'output_token_details': {}})}, 'run_id': '9e9d3db7-7c76-4759-b0bf-4e6b0219fe32', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 7, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:7369f523-57e8-5b0f-fbf8-3e1c7a2b1724', 'checkpoint_ns': 'call_model:7369f523-57e8-5b0f-fbf8-3e1c7a2b1724', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '4f7dd816-448a-4c28-84ef-5d7af1d0d0fe']}
receive_response_body.complete
response_closed.started
response_closed.complete
close.started
close.complete
EVENT {'event': 'on_chat_model_end', 'data': {'output': AIMessage(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': 'eHHe9B0r6vchVZdl78rGm0tjqr3hXF8T', 'function': {'arguments': '{}', 'name': 'get_time'}, 'type': 'function'}]}, response_metadata={'finish_reason': 'tool_calls', 'model_name': 'gpt-4', 'system_fingerprint': 'b5833-a0374a67'}, id='run--9e9d3db7-7c76-4759-b0bf-4e6b0219fe32', tool_calls=[{'name': 'get_time', 'args': {}, 'id': 'eHHe9B0r6vchVZdl78rGm0tjqr3hXF8T', 'type': 'tool_call'}], usage_metadata={'input_tokens': 291, 'output_tokens': 14, 'total_tokens': 305, 'input_token_details': {}, 'output_token_details': {}}), 'input': {'messages': [[SystemMessage(content='You are a helpful assistant.', additional_kwargs={}, response_metadata={}), ToolMessage(content='2025-10-07T22:41:02.456323', tool_call_id='ve376Qfo0grLy6M7t2aMAcWc4tpH1trq')]]}}, 'run_id': '9e9d3db7-7c76-4759-b0bf-4e6b0219fe32', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 7, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:7369f523-57e8-5b0f-fbf8-3e1c7a2b1724', 'checkpoint_ns': 'call_model:7369f523-57e8-5b0f-fbf8-3e1c7a2b1724', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '4f7dd816-448a-4c28-84ef-5d7af1d0d0fe']}
=============================================
TOTAL 305
TOTAL 14
2025-10-08T03:41:03.974394Z [info     ] LLM Node call_model applying context [chatter.core.workflow_graph_builder] correlation_id=01K70YGS5ES17SMV8NEJ4TM3DQ has_retrieval_context=False retrieval_context_length=0
Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-72be5220-b59f-4a50-9b84-6770e43878f1', 'json_data': {'messages': [{'content': 'You are a helpful assistant.', 'role': 'system'}, {'content': '2025-10-07T22:41:03.973006', 'role': 'tool', 'tool_call_id': 'eHHe9B0r6vchVZdl78rGm0tjqr3hXF8T'}], 'model': 'gpt-4', 'max_completion_tokens': 4096, 'stream': True, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'calculator', 'description': 'Perform basic mathematical calculations', 'parameters': {'properties': {'expression': {'type': 'string'}}, 'required': ['expression'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'get_time', 'description': "Get the current date and time. Call this function once if needed, optionally specifying a timezone using 'tz' (e.g., 'America/Denver'). After calling, use the returned time to answer the user's question in natural language.", 'parameters': {'properties': {}, 'type': 'object'}}}]}}
Sending HTTP Request: POST http://localhost:8080/v1/chat/completions
connect_tcp.started host='localhost' port=8080 local_address=None timeout=None socket_options=None
connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x728f0f3a8da0>
send_request_headers.started request=<Request [b'POST']>
send_request_headers.complete
send_request_body.started request=<Request [b'POST']>
send_request_body.complete
receive_response_headers.started request=<Request [b'POST']>
receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Keep-Alive', b'timeout=5, max=100'), (b'Content-Type', b'text/event-stream'), (b'Server', b'llama.cpp'), (b'Transfer-Encoding', b'chunked'), (b'Access-Control-Allow-Origin', b'')])
HTTP Request: POST http://localhost:8080/v1/chat/completions "HTTP/1.1 200 OK"
HTTP Response: POST http://localhost:8080/v1/chat/completions "200 OK" Headers({'keep-alive': 'timeout=5, max=100', 'content-type': 'text/event-stream', 'server': 'llama.cpp', 'transfer-encoding': 'chunked', 'access-control-allow-origin': ''})
request_id: None
receive_response_body.started request=<Request [b'POST']>
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={}, response_metadata={}, id='run--5344d34d-a050-4e44-9e05-23c100ffc759')}, 'run_id': '5344d34d-a050-4e44-9e05-23c100ffc759', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 9, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:d0ab00c0-477a-42fd-7474-7dd78f8b9c4a', 'checkpoint_ns': 'call_model:d0ab00c0-477a-42fd-7474-7dd78f8b9c4a', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '74b641b4-2ce2-4f04-a49c-266d7ce882d1']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': 'bxOQIRh4eWsYoxUugXQWuvt4G1MXB2fy', 'function': {'arguments': '{"', 'name': 'get_time'}, 'type': 'function'}]}, response_metadata={}, id='run--5344d34d-a050-4e44-9e05-23c100ffc759', tool_calls=[{'name': 'get_time', 'args': {}, 'id': 'bxOQIRh4eWsYoxUugXQWuvt4G1MXB2fy', 'type': 'tool_call'}], tool_call_chunks=[{'name': 'get_time', 'args': '{"', 'id': 'bxOQIRh4eWsYoxUugXQWuvt4G1MXB2fy', 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': '5344d34d-a050-4e44-9e05-23c100ffc759', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 9, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:d0ab00c0-477a-42fd-7474-7dd78f8b9c4a', 'checkpoint_ns': 'call_model:d0ab00c0-477a-42fd-7474-7dd78f8b9c4a', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '74b641b4-2ce2-4f04-a49c-266d7ce882d1']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': None, 'function': {'arguments': 'tz', 'name': None}, 'type': None}]}, response_metadata={}, id='run--5344d34d-a050-4e44-9e05-23c100ffc759', invalid_tool_calls=[{'name': None, 'args': 'tz', 'id': None, 'error': None, 'type': 'invalid_tool_call'}], tool_call_chunks=[{'name': None, 'args': 'tz', 'id': None, 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': '5344d34d-a050-4e44-9e05-23c100ffc759', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 9, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:d0ab00c0-477a-42fd-7474-7dd78f8b9c4a', 'checkpoint_ns': 'call_model:d0ab00c0-477a-42fd-7474-7dd78f8b9c4a', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '74b641b4-2ce2-4f04-a49c-266d7ce882d1']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': None, 'function': {'arguments': '":', 'name': None}, 'type': None}]}, response_metadata={}, id='run--5344d34d-a050-4e44-9e05-23c100ffc759', invalid_tool_calls=[{'name': None, 'args': '":', 'id': None, 'error': None, 'type': 'invalid_tool_call'}], tool_call_chunks=[{'name': None, 'args': '":', 'id': None, 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': '5344d34d-a050-4e44-9e05-23c100ffc759', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 9, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:d0ab00c0-477a-42fd-7474-7dd78f8b9c4a', 'checkpoint_ns': 'call_model:d0ab00c0-477a-42fd-7474-7dd78f8b9c4a', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '74b641b4-2ce2-4f04-a49c-266d7ce882d1']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': None, 'function': {'arguments': '"', 'name': None}, 'type': None}]}, response_metadata={}, id='run--5344d34d-a050-4e44-9e05-23c100ffc759', invalid_tool_calls=[{'name': None, 'args': '"', 'id': None, 'error': None, 'type': 'invalid_tool_call'}], tool_call_chunks=[{'name': None, 'args': '"', 'id': None, 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': '5344d34d-a050-4e44-9e05-23c100ffc759', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 9, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:d0ab00c0-477a-42fd-7474-7dd78f8b9c4a', 'checkpoint_ns': 'call_model:d0ab00c0-477a-42fd-7474-7dd78f8b9c4a', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '74b641b4-2ce2-4f04-a49c-266d7ce882d1']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': None, 'function': {'arguments': 'America', 'name': None}, 'type': None}]}, response_metadata={}, id='run--5344d34d-a050-4e44-9e05-23c100ffc759', invalid_tool_calls=[{'name': None, 'args': 'America', 'id': None, 'error': None, 'type': 'invalid_tool_call'}], tool_call_chunks=[{'name': None, 'args': 'America', 'id': None, 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': '5344d34d-a050-4e44-9e05-23c100ffc759', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 9, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:d0ab00c0-477a-42fd-7474-7dd78f8b9c4a', 'checkpoint_ns': 'call_model:d0ab00c0-477a-42fd-7474-7dd78f8b9c4a', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '74b641b4-2ce2-4f04-a49c-266d7ce882d1']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': None, 'function': {'arguments': '/D', 'name': None}, 'type': None}]}, response_metadata={}, id='run--5344d34d-a050-4e44-9e05-23c100ffc759', invalid_tool_calls=[{'name': None, 'args': '/D', 'id': None, 'error': None, 'type': 'invalid_tool_call'}], tool_call_chunks=[{'name': None, 'args': '/D', 'id': None, 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': '5344d34d-a050-4e44-9e05-23c100ffc759', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 9, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:d0ab00c0-477a-42fd-7474-7dd78f8b9c4a', 'checkpoint_ns': 'call_model:d0ab00c0-477a-42fd-7474-7dd78f8b9c4a', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '74b641b4-2ce2-4f04-a49c-266d7ce882d1']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': None, 'function': {'arguments': 'en', 'name': None}, 'type': None}]}, response_metadata={}, id='run--5344d34d-a050-4e44-9e05-23c100ffc759', invalid_tool_calls=[{'name': None, 'args': 'en', 'id': None, 'error': None, 'type': 'invalid_tool_call'}], tool_call_chunks=[{'name': None, 'args': 'en', 'id': None, 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': '5344d34d-a050-4e44-9e05-23c100ffc759', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 9, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:d0ab00c0-477a-42fd-7474-7dd78f8b9c4a', 'checkpoint_ns': 'call_model:d0ab00c0-477a-42fd-7474-7dd78f8b9c4a', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '74b641b4-2ce2-4f04-a49c-266d7ce882d1']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': None, 'function': {'arguments': 'ver', 'name': None}, 'type': None}]}, response_metadata={}, id='run--5344d34d-a050-4e44-9e05-23c100ffc759', invalid_tool_calls=[{'name': None, 'args': 'ver', 'id': None, 'error': None, 'type': 'invalid_tool_call'}], tool_call_chunks=[{'name': None, 'args': 'ver', 'id': None, 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': '5344d34d-a050-4e44-9e05-23c100ffc759', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 9, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:d0ab00c0-477a-42fd-7474-7dd78f8b9c4a', 'checkpoint_ns': 'call_model:d0ab00c0-477a-42fd-7474-7dd78f8b9c4a', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '74b641b4-2ce2-4f04-a49c-266d7ce882d1']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': None, 'function': {'arguments': '"}', 'name': None}, 'type': None}]}, response_metadata={}, id='run--5344d34d-a050-4e44-9e05-23c100ffc759', invalid_tool_calls=[{'name': None, 'args': '"}', 'id': None, 'error': None, 'type': 'invalid_tool_call'}], tool_call_chunks=[{'name': None, 'args': '"}', 'id': None, 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': '5344d34d-a050-4e44-9e05-23c100ffc759', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 9, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:d0ab00c0-477a-42fd-7474-7dd78f8b9c4a', 'checkpoint_ns': 'call_model:d0ab00c0-477a-42fd-7474-7dd78f8b9c4a', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '74b641b4-2ce2-4f04-a49c-266d7ce882d1']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={}, response_metadata={'finish_reason': 'tool_calls', 'model_name': 'gpt-4', 'system_fingerprint': 'b5833-a0374a67'}, id='run--5344d34d-a050-4e44-9e05-23c100ffc759', usage_metadata={'input_tokens': 291, 'output_tokens': 21, 'total_tokens': 312, 'input_token_details': {}, 'output_token_details': {}})}, 'run_id': '5344d34d-a050-4e44-9e05-23c100ffc759', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 9, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:d0ab00c0-477a-42fd-7474-7dd78f8b9c4a', 'checkpoint_ns': 'call_model:d0ab00c0-477a-42fd-7474-7dd78f8b9c4a', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '74b641b4-2ce2-4f04-a49c-266d7ce882d1']}
receive_response_body.complete
response_closed.started
response_closed.complete
close.started
close.complete
EVENT {'event': 'on_chat_model_end', 'data': {'output': AIMessage(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': 'bxOQIRh4eWsYoxUugXQWuvt4G1MXB2fy', 'function': {'arguments': '{"tz":"America/Denver"}', 'name': 'get_time'}, 'type': 'function'}]}, response_metadata={'finish_reason': 'tool_calls', 'model_name': 'gpt-4', 'system_fingerprint': 'b5833-a0374a67'}, id='run--5344d34d-a050-4e44-9e05-23c100ffc759', tool_calls=[{'name': 'get_time', 'args': {'tz': 'America/Denver'}, 'id': 'bxOQIRh4eWsYoxUugXQWuvt4G1MXB2fy', 'type': 'tool_call'}], usage_metadata={'input_tokens': 291, 'output_tokens': 21, 'total_tokens': 312, 'input_token_details': {}, 'output_token_details': {}}), 'input': {'messages': [[SystemMessage(content='You are a helpful assistant.', additional_kwargs={}, response_metadata={}), ToolMessage(content='2025-10-07T22:41:03.973006', tool_call_id='eHHe9B0r6vchVZdl78rGm0tjqr3hXF8T')]]}}, 'run_id': '5344d34d-a050-4e44-9e05-23c100ffc759', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 9, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:d0ab00c0-477a-42fd-7474-7dd78f8b9c4a', 'checkpoint_ns': 'call_model:d0ab00c0-477a-42fd-7474-7dd78f8b9c4a', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '74b641b4-2ce2-4f04-a49c-266d7ce882d1']}
=============================================
TOTAL 312
TOTAL 21
2025-10-08T03:41:06.220820Z [info     ] LLM Node call_model applying context [chatter.core.workflow_graph_builder] correlation_id=01K70YGS5ES17SMV8NEJ4TM3DQ has_retrieval_context=False retrieval_context_length=0
Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-2ced20a0-f89e-45ed-bd8b-143073ef8392', 'json_data': {'messages': [{'content': 'You are a helpful assistant.', 'role': 'system'}, {'content': '2025-10-07T22:41:06.219180', 'role': 'tool', 'tool_call_id': 'bxOQIRh4eWsYoxUugXQWuvt4G1MXB2fy'}], 'model': 'gpt-4', 'max_completion_tokens': 4096, 'stream': True, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'calculator', 'description': 'Perform basic mathematical calculations', 'parameters': {'properties': {'expression': {'type': 'string'}}, 'required': ['expression'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'get_time', 'description': "Get the current date and time. Call this function once if needed, optionally specifying a timezone using 'tz' (e.g., 'America/Denver'). After calling, use the returned time to answer the user's question in natural language.", 'parameters': {'properties': {}, 'type': 'object'}}}]}}
Sending HTTP Request: POST http://localhost:8080/v1/chat/completions
connect_tcp.started host='localhost' port=8080 local_address=None timeout=None socket_options=None
connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x728f0f37e8d0>
send_request_headers.started request=<Request [b'POST']>
send_request_headers.complete
send_request_body.started request=<Request [b'POST']>
send_request_body.complete
receive_response_headers.started request=<Request [b'POST']>
receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Keep-Alive', b'timeout=5, max=100'), (b'Content-Type', b'text/event-stream'), (b'Server', b'llama.cpp'), (b'Transfer-Encoding', b'chunked'), (b'Access-Control-Allow-Origin', b'')])
HTTP Request: POST http://localhost:8080/v1/chat/completions "HTTP/1.1 200 OK"
HTTP Response: POST http://localhost:8080/v1/chat/completions "200 OK" Headers({'keep-alive': 'timeout=5, max=100', 'content-type': 'text/event-stream', 'server': 'llama.cpp', 'transfer-encoding': 'chunked', 'access-control-allow-origin': ''})
request_id: None
receive_response_body.started request=<Request [b'POST']>
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={}, response_metadata={}, id='run--4368f669-3033-4afe-9f78-d0926ef53cce')}, 'run_id': '4368f669-3033-4afe-9f78-d0926ef53cce', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 11, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:b0651abb-34b8-aa0d-162f-f5699cc2e960', 'checkpoint_ns': 'call_model:b0651abb-34b8-aa0d-162f-f5699cc2e960', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '8eb0c2b7-e6e7-42eb-bb90-f19cfae07246']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': '4SDsAyT3PbYc9rla6RBLJsm5ueFgJ51i', 'function': {'arguments': '{', 'name': 'get_time'}, 'type': 'function'}]}, response_metadata={}, id='run--4368f669-3033-4afe-9f78-d0926ef53cce', tool_calls=[{'name': 'get_time', 'args': {}, 'id': '4SDsAyT3PbYc9rla6RBLJsm5ueFgJ51i', 'type': 'tool_call'}], tool_call_chunks=[{'name': 'get_time', 'args': '{', 'id': '4SDsAyT3PbYc9rla6RBLJsm5ueFgJ51i', 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': '4368f669-3033-4afe-9f78-d0926ef53cce', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 11, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:b0651abb-34b8-aa0d-162f-f5699cc2e960', 'checkpoint_ns': 'call_model:b0651abb-34b8-aa0d-162f-f5699cc2e960', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '8eb0c2b7-e6e7-42eb-bb90-f19cfae07246']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': None, 'function': {'arguments': '}', 'name': None}, 'type': None}]}, response_metadata={}, id='run--4368f669-3033-4afe-9f78-d0926ef53cce', invalid_tool_calls=[{'name': None, 'args': '}', 'id': None, 'error': None, 'type': 'invalid_tool_call'}], tool_call_chunks=[{'name': None, 'args': '}', 'id': None, 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': '4368f669-3033-4afe-9f78-d0926ef53cce', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 11, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:b0651abb-34b8-aa0d-162f-f5699cc2e960', 'checkpoint_ns': 'call_model:b0651abb-34b8-aa0d-162f-f5699cc2e960', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '8eb0c2b7-e6e7-42eb-bb90-f19cfae07246']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={}, response_metadata={'finish_reason': 'tool_calls', 'model_name': 'gpt-4', 'system_fingerprint': 'b5833-a0374a67'}, id='run--4368f669-3033-4afe-9f78-d0926ef53cce', usage_metadata={'input_tokens': 291, 'output_tokens': 14, 'total_tokens': 305, 'input_token_details': {}, 'output_token_details': {}})}, 'run_id': '4368f669-3033-4afe-9f78-d0926ef53cce', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 11, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:b0651abb-34b8-aa0d-162f-f5699cc2e960', 'checkpoint_ns': 'call_model:b0651abb-34b8-aa0d-162f-f5699cc2e960', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '8eb0c2b7-e6e7-42eb-bb90-f19cfae07246']}
receive_response_body.complete
response_closed.started
response_closed.complete
close.started
close.complete
EVENT {'event': 'on_chat_model_end', 'data': {'output': AIMessage(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': '4SDsAyT3PbYc9rla6RBLJsm5ueFgJ51i', 'function': {'arguments': '{}', 'name': 'get_time'}, 'type': 'function'}]}, response_metadata={'finish_reason': 'tool_calls', 'model_name': 'gpt-4', 'system_fingerprint': 'b5833-a0374a67'}, id='run--4368f669-3033-4afe-9f78-d0926ef53cce', tool_calls=[{'name': 'get_time', 'args': {}, 'id': '4SDsAyT3PbYc9rla6RBLJsm5ueFgJ51i', 'type': 'tool_call'}], usage_metadata={'input_tokens': 291, 'output_tokens': 14, 'total_tokens': 305, 'input_token_details': {}, 'output_token_details': {}}), 'input': {'messages': [[SystemMessage(content='You are a helpful assistant.', additional_kwargs={}, response_metadata={}), ToolMessage(content='2025-10-07T22:41:06.219180', tool_call_id='bxOQIRh4eWsYoxUugXQWuvt4G1MXB2fy')]]}}, 'run_id': '4368f669-3033-4afe-9f78-d0926ef53cce', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 11, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:b0651abb-34b8-aa0d-162f-f5699cc2e960', 'checkpoint_ns': 'call_model:b0651abb-34b8-aa0d-162f-f5699cc2e960', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '8eb0c2b7-e6e7-42eb-bb90-f19cfae07246']}
=============================================
TOTAL 305
TOTAL 14
2025-10-08T03:41:07.733842Z [info     ] LLM Node call_model applying context [chatter.core.workflow_graph_builder] correlation_id=01K70YGS5ES17SMV8NEJ4TM3DQ has_retrieval_context=False retrieval_context_length=0
Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-e11cb056-a5ed-4db5-92c0-446cc766992e', 'json_data': {'messages': [{'content': 'You are a helpful assistant.', 'role': 'system'}, {'content': '2025-10-07T22:41:07.732696', 'role': 'tool', 'tool_call_id': '4SDsAyT3PbYc9rla6RBLJsm5ueFgJ51i'}], 'model': 'gpt-4', 'max_completion_tokens': 4096, 'stream': True, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'calculator', 'description': 'Perform basic mathematical calculations', 'parameters': {'properties': {'expression': {'type': 'string'}}, 'required': ['expression'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'get_time', 'description': "Get the current date and time. Call this function once if needed, optionally specifying a timezone using 'tz' (e.g., 'America/Denver'). After calling, use the returned time to answer the user's question in natural language.", 'parameters': {'properties': {}, 'type': 'object'}}}]}}
Sending HTTP Request: POST http://localhost:8080/v1/chat/completions
connect_tcp.started host='localhost' port=8080 local_address=None timeout=None socket_options=None
connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x728f0f3aa630>
send_request_headers.started request=<Request [b'POST']>
send_request_headers.complete
send_request_body.started request=<Request [b'POST']>
send_request_body.complete
receive_response_headers.started request=<Request [b'POST']>
receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Keep-Alive', b'timeout=5, max=100'), (b'Content-Type', b'text/event-stream'), (b'Server', b'llama.cpp'), (b'Transfer-Encoding', b'chunked'), (b'Access-Control-Allow-Origin', b'')])
HTTP Request: POST http://localhost:8080/v1/chat/completions "HTTP/1.1 200 OK"
HTTP Response: POST http://localhost:8080/v1/chat/completions "200 OK" Headers({'keep-alive': 'timeout=5, max=100', 'content-type': 'text/event-stream', 'server': 'llama.cpp', 'transfer-encoding': 'chunked', 'access-control-allow-origin': ''})
request_id: None
receive_response_body.started request=<Request [b'POST']>
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={}, response_metadata={}, id='run--bc9b5ad2-b75d-4cd1-84f8-46f3dc3a8076')}, 'run_id': 'bc9b5ad2-b75d-4cd1-84f8-46f3dc3a8076', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 13, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:5759d2ad-afb3-6ce8-b0a9-9f2595b8e43f', 'checkpoint_ns': 'call_model:5759d2ad-afb3-6ce8-b0a9-9f2595b8e43f', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '55d5c540-7296-4100-9195-21bce85da886']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': 'uN8cvEDbq2ci5aybpZhSFq3rTPqQq5fj', 'function': {'arguments': '{', 'name': 'get_time'}, 'type': 'function'}]}, response_metadata={}, id='run--bc9b5ad2-b75d-4cd1-84f8-46f3dc3a8076', tool_calls=[{'name': 'get_time', 'args': {}, 'id': 'uN8cvEDbq2ci5aybpZhSFq3rTPqQq5fj', 'type': 'tool_call'}], tool_call_chunks=[{'name': 'get_time', 'args': '{', 'id': 'uN8cvEDbq2ci5aybpZhSFq3rTPqQq5fj', 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': 'bc9b5ad2-b75d-4cd1-84f8-46f3dc3a8076', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 13, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:5759d2ad-afb3-6ce8-b0a9-9f2595b8e43f', 'checkpoint_ns': 'call_model:5759d2ad-afb3-6ce8-b0a9-9f2595b8e43f', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '55d5c540-7296-4100-9195-21bce85da886']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': None, 'function': {'arguments': '}', 'name': None}, 'type': None}]}, response_metadata={}, id='run--bc9b5ad2-b75d-4cd1-84f8-46f3dc3a8076', invalid_tool_calls=[{'name': None, 'args': '}', 'id': None, 'error': None, 'type': 'invalid_tool_call'}], tool_call_chunks=[{'name': None, 'args': '}', 'id': None, 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': 'bc9b5ad2-b75d-4cd1-84f8-46f3dc3a8076', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 13, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:5759d2ad-afb3-6ce8-b0a9-9f2595b8e43f', 'checkpoint_ns': 'call_model:5759d2ad-afb3-6ce8-b0a9-9f2595b8e43f', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '55d5c540-7296-4100-9195-21bce85da886']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={}, response_metadata={'finish_reason': 'tool_calls', 'model_name': 'gpt-4', 'system_fingerprint': 'b5833-a0374a67'}, id='run--bc9b5ad2-b75d-4cd1-84f8-46f3dc3a8076', usage_metadata={'input_tokens': 291, 'output_tokens': 14, 'total_tokens': 305, 'input_token_details': {}, 'output_token_details': {}})}, 'run_id': 'bc9b5ad2-b75d-4cd1-84f8-46f3dc3a8076', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 13, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:5759d2ad-afb3-6ce8-b0a9-9f2595b8e43f', 'checkpoint_ns': 'call_model:5759d2ad-afb3-6ce8-b0a9-9f2595b8e43f', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '55d5c540-7296-4100-9195-21bce85da886']}
receive_response_body.complete
response_closed.started
response_closed.complete
close.started
close.complete
EVENT {'event': 'on_chat_model_end', 'data': {'output': AIMessage(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': 'uN8cvEDbq2ci5aybpZhSFq3rTPqQq5fj', 'function': {'arguments': '{}', 'name': 'get_time'}, 'type': 'function'}]}, response_metadata={'finish_reason': 'tool_calls', 'model_name': 'gpt-4', 'system_fingerprint': 'b5833-a0374a67'}, id='run--bc9b5ad2-b75d-4cd1-84f8-46f3dc3a8076', tool_calls=[{'name': 'get_time', 'args': {}, 'id': 'uN8cvEDbq2ci5aybpZhSFq3rTPqQq5fj', 'type': 'tool_call'}], usage_metadata={'input_tokens': 291, 'output_tokens': 14, 'total_tokens': 305, 'input_token_details': {}, 'output_token_details': {}}), 'input': {'messages': [[SystemMessage(content='You are a helpful assistant.', additional_kwargs={}, response_metadata={}), ToolMessage(content='2025-10-07T22:41:07.732696', tool_call_id='4SDsAyT3PbYc9rla6RBLJsm5ueFgJ51i')]]}}, 'run_id': 'bc9b5ad2-b75d-4cd1-84f8-46f3dc3a8076', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 13, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:5759d2ad-afb3-6ce8-b0a9-9f2595b8e43f', 'checkpoint_ns': 'call_model:5759d2ad-afb3-6ce8-b0a9-9f2595b8e43f', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '55d5c540-7296-4100-9195-21bce85da886']}
=============================================
TOTAL 305
TOTAL 14
2025-10-08T03:41:09.265722Z [info     ] LLM Node call_model applying context [chatter.core.workflow_graph_builder] correlation_id=01K70YGS5ES17SMV8NEJ4TM3DQ has_retrieval_context=False retrieval_context_length=0
Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-0b4b23ae-4bbd-4dfe-944f-c6791c15ffdb', 'json_data': {'messages': [{'content': 'You are a helpful assistant.', 'role': 'system'}, {'content': '2025-10-07T22:41:09.264231', 'role': 'tool', 'tool_call_id': 'uN8cvEDbq2ci5aybpZhSFq3rTPqQq5fj'}], 'model': 'gpt-4', 'max_completion_tokens': 4096, 'stream': True, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'calculator', 'description': 'Perform basic mathematical calculations', 'parameters': {'properties': {'expression': {'type': 'string'}}, 'required': ['expression'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'get_time', 'description': "Get the current date and time. Call this function once if needed, optionally specifying a timezone using 'tz' (e.g., 'America/Denver'). After calling, use the returned time to answer the user's question in natural language.", 'parameters': {'properties': {}, 'type': 'object'}}}]}}
Sending HTTP Request: POST http://localhost:8080/v1/chat/completions
connect_tcp.started host='localhost' port=8080 local_address=None timeout=None socket_options=None
connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x728f0f37e8d0>
send_request_headers.started request=<Request [b'POST']>
send_request_headers.complete
send_request_body.started request=<Request [b'POST']>
send_request_body.complete
receive_response_headers.started request=<Request [b'POST']>
receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Keep-Alive', b'timeout=5, max=100'), (b'Content-Type', b'text/event-stream'), (b'Server', b'llama.cpp'), (b'Transfer-Encoding', b'chunked'), (b'Access-Control-Allow-Origin', b'')])
HTTP Request: POST http://localhost:8080/v1/chat/completions "HTTP/1.1 200 OK"
HTTP Response: POST http://localhost:8080/v1/chat/completions "200 OK" Headers({'keep-alive': 'timeout=5, max=100', 'content-type': 'text/event-stream', 'server': 'llama.cpp', 'transfer-encoding': 'chunked', 'access-control-allow-origin': ''})
request_id: None
receive_response_body.started request=<Request [b'POST']>
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={}, response_metadata={}, id='run--3c6665f8-8e67-4cca-9c25-7164689ae58d')}, 'run_id': '3c6665f8-8e67-4cca-9c25-7164689ae58d', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 15, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:d85dc647-7826-f4cf-1b26-e2cb577c2be2', 'checkpoint_ns': 'call_model:d85dc647-7826-f4cf-1b26-e2cb577c2be2', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '2f04da1f-6f26-4528-869c-5e89bf2f99ef']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': '0MbSc5wKrbbKUqUhLdF4mNLebK76vg8N', 'function': {'arguments': '{"', 'name': 'get_time'}, 'type': 'function'}]}, response_metadata={}, id='run--3c6665f8-8e67-4cca-9c25-7164689ae58d', tool_calls=[{'name': 'get_time', 'args': {}, 'id': '0MbSc5wKrbbKUqUhLdF4mNLebK76vg8N', 'type': 'tool_call'}], tool_call_chunks=[{'name': 'get_time', 'args': '{"', 'id': '0MbSc5wKrbbKUqUhLdF4mNLebK76vg8N', 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': '3c6665f8-8e67-4cca-9c25-7164689ae58d', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 15, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:d85dc647-7826-f4cf-1b26-e2cb577c2be2', 'checkpoint_ns': 'call_model:d85dc647-7826-f4cf-1b26-e2cb577c2be2', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '2f04da1f-6f26-4528-869c-5e89bf2f99ef']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': None, 'function': {'arguments': 'tz', 'name': None}, 'type': None}]}, response_metadata={}, id='run--3c6665f8-8e67-4cca-9c25-7164689ae58d', invalid_tool_calls=[{'name': None, 'args': 'tz', 'id': None, 'error': None, 'type': 'invalid_tool_call'}], tool_call_chunks=[{'name': None, 'args': 'tz', 'id': None, 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': '3c6665f8-8e67-4cca-9c25-7164689ae58d', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 15, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:d85dc647-7826-f4cf-1b26-e2cb577c2be2', 'checkpoint_ns': 'call_model:d85dc647-7826-f4cf-1b26-e2cb577c2be2', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '2f04da1f-6f26-4528-869c-5e89bf2f99ef']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': None, 'function': {'arguments': '":', 'name': None}, 'type': None}]}, response_metadata={}, id='run--3c6665f8-8e67-4cca-9c25-7164689ae58d', invalid_tool_calls=[{'name': None, 'args': '":', 'id': None, 'error': None, 'type': 'invalid_tool_call'}], tool_call_chunks=[{'name': None, 'args': '":', 'id': None, 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': '3c6665f8-8e67-4cca-9c25-7164689ae58d', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 15, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:d85dc647-7826-f4cf-1b26-e2cb577c2be2', 'checkpoint_ns': 'call_model:d85dc647-7826-f4cf-1b26-e2cb577c2be2', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '2f04da1f-6f26-4528-869c-5e89bf2f99ef']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': None, 'function': {'arguments': '"', 'name': None}, 'type': None}]}, response_metadata={}, id='run--3c6665f8-8e67-4cca-9c25-7164689ae58d', invalid_tool_calls=[{'name': None, 'args': '"', 'id': None, 'error': None, 'type': 'invalid_tool_call'}], tool_call_chunks=[{'name': None, 'args': '"', 'id': None, 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': '3c6665f8-8e67-4cca-9c25-7164689ae58d', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 15, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:d85dc647-7826-f4cf-1b26-e2cb577c2be2', 'checkpoint_ns': 'call_model:d85dc647-7826-f4cf-1b26-e2cb577c2be2', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '2f04da1f-6f26-4528-869c-5e89bf2f99ef']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': None, 'function': {'arguments': 'America', 'name': None}, 'type': None}]}, response_metadata={}, id='run--3c6665f8-8e67-4cca-9c25-7164689ae58d', invalid_tool_calls=[{'name': None, 'args': 'America', 'id': None, 'error': None, 'type': 'invalid_tool_call'}], tool_call_chunks=[{'name': None, 'args': 'America', 'id': None, 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': '3c6665f8-8e67-4cca-9c25-7164689ae58d', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 15, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:d85dc647-7826-f4cf-1b26-e2cb577c2be2', 'checkpoint_ns': 'call_model:d85dc647-7826-f4cf-1b26-e2cb577c2be2', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '2f04da1f-6f26-4528-869c-5e89bf2f99ef']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': None, 'function': {'arguments': '/D', 'name': None}, 'type': None}]}, response_metadata={}, id='run--3c6665f8-8e67-4cca-9c25-7164689ae58d', invalid_tool_calls=[{'name': None, 'args': '/D', 'id': None, 'error': None, 'type': 'invalid_tool_call'}], tool_call_chunks=[{'name': None, 'args': '/D', 'id': None, 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': '3c6665f8-8e67-4cca-9c25-7164689ae58d', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 15, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:d85dc647-7826-f4cf-1b26-e2cb577c2be2', 'checkpoint_ns': 'call_model:d85dc647-7826-f4cf-1b26-e2cb577c2be2', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '2f04da1f-6f26-4528-869c-5e89bf2f99ef']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': None, 'function': {'arguments': 'en', 'name': None}, 'type': None}]}, response_metadata={}, id='run--3c6665f8-8e67-4cca-9c25-7164689ae58d', invalid_tool_calls=[{'name': None, 'args': 'en', 'id': None, 'error': None, 'type': 'invalid_tool_call'}], tool_call_chunks=[{'name': None, 'args': 'en', 'id': None, 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': '3c6665f8-8e67-4cca-9c25-7164689ae58d', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 15, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:d85dc647-7826-f4cf-1b26-e2cb577c2be2', 'checkpoint_ns': 'call_model:d85dc647-7826-f4cf-1b26-e2cb577c2be2', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '2f04da1f-6f26-4528-869c-5e89bf2f99ef']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': None, 'function': {'arguments': 'ver', 'name': None}, 'type': None}]}, response_metadata={}, id='run--3c6665f8-8e67-4cca-9c25-7164689ae58d', invalid_tool_calls=[{'name': None, 'args': 'ver', 'id': None, 'error': None, 'type': 'invalid_tool_call'}], tool_call_chunks=[{'name': None, 'args': 'ver', 'id': None, 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': '3c6665f8-8e67-4cca-9c25-7164689ae58d', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 15, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:d85dc647-7826-f4cf-1b26-e2cb577c2be2', 'checkpoint_ns': 'call_model:d85dc647-7826-f4cf-1b26-e2cb577c2be2', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '2f04da1f-6f26-4528-869c-5e89bf2f99ef']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': None, 'function': {'arguments': '"}', 'name': None}, 'type': None}]}, response_metadata={}, id='run--3c6665f8-8e67-4cca-9c25-7164689ae58d', invalid_tool_calls=[{'name': None, 'args': '"}', 'id': None, 'error': None, 'type': 'invalid_tool_call'}], tool_call_chunks=[{'name': None, 'args': '"}', 'id': None, 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': '3c6665f8-8e67-4cca-9c25-7164689ae58d', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 15, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:d85dc647-7826-f4cf-1b26-e2cb577c2be2', 'checkpoint_ns': 'call_model:d85dc647-7826-f4cf-1b26-e2cb577c2be2', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '2f04da1f-6f26-4528-869c-5e89bf2f99ef']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={}, response_metadata={'finish_reason': 'tool_calls', 'model_name': 'gpt-4', 'system_fingerprint': 'b5833-a0374a67'}, id='run--3c6665f8-8e67-4cca-9c25-7164689ae58d', usage_metadata={'input_tokens': 291, 'output_tokens': 21, 'total_tokens': 312, 'input_token_details': {}, 'output_token_details': {}})}, 'run_id': '3c6665f8-8e67-4cca-9c25-7164689ae58d', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 15, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:d85dc647-7826-f4cf-1b26-e2cb577c2be2', 'checkpoint_ns': 'call_model:d85dc647-7826-f4cf-1b26-e2cb577c2be2', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '2f04da1f-6f26-4528-869c-5e89bf2f99ef']}
receive_response_body.complete
response_closed.started
response_closed.complete
close.started
close.complete
EVENT {'event': 'on_chat_model_end', 'data': {'output': AIMessage(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': '0MbSc5wKrbbKUqUhLdF4mNLebK76vg8N', 'function': {'arguments': '{"tz":"America/Denver"}', 'name': 'get_time'}, 'type': 'function'}]}, response_metadata={'finish_reason': 'tool_calls', 'model_name': 'gpt-4', 'system_fingerprint': 'b5833-a0374a67'}, id='run--3c6665f8-8e67-4cca-9c25-7164689ae58d', tool_calls=[{'name': 'get_time', 'args': {'tz': 'America/Denver'}, 'id': '0MbSc5wKrbbKUqUhLdF4mNLebK76vg8N', 'type': 'tool_call'}], usage_metadata={'input_tokens': 291, 'output_tokens': 21, 'total_tokens': 312, 'input_token_details': {}, 'output_token_details': {}}), 'input': {'messages': [[SystemMessage(content='You are a helpful assistant.', additional_kwargs={}, response_metadata={}), ToolMessage(content='2025-10-07T22:41:09.264231', tool_call_id='uN8cvEDbq2ci5aybpZhSFq3rTPqQq5fj')]]}}, 'run_id': '3c6665f8-8e67-4cca-9c25-7164689ae58d', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 15, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:d85dc647-7826-f4cf-1b26-e2cb577c2be2', 'checkpoint_ns': 'call_model:d85dc647-7826-f4cf-1b26-e2cb577c2be2', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '2f04da1f-6f26-4528-869c-5e89bf2f99ef']}
=============================================
TOTAL 312
TOTAL 21
2025-10-08T03:41:11.497963Z [info     ] LLM Node call_model applying context [chatter.core.workflow_graph_builder] correlation_id=01K70YGS5ES17SMV8NEJ4TM3DQ has_retrieval_context=False retrieval_context_length=0
Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-b657228d-2ef9-489e-a241-2ce882ff5682', 'json_data': {'messages': [{'content': 'You are a helpful assistant.', 'role': 'system'}, {'content': '2025-10-07T22:41:11.496568', 'role': 'tool', 'tool_call_id': '0MbSc5wKrbbKUqUhLdF4mNLebK76vg8N'}], 'model': 'gpt-4', 'max_completion_tokens': 4096, 'stream': True, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'calculator', 'description': 'Perform basic mathematical calculations', 'parameters': {'properties': {'expression': {'type': 'string'}}, 'required': ['expression'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'get_time', 'description': "Get the current date and time. Call this function once if needed, optionally specifying a timezone using 'tz' (e.g., 'America/Denver'). After calling, use the returned time to answer the user's question in natural language.", 'parameters': {'properties': {}, 'type': 'object'}}}]}}
Sending HTTP Request: POST http://localhost:8080/v1/chat/completions
connect_tcp.started host='localhost' port=8080 local_address=None timeout=None socket_options=None
connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x728f0f5520f0>
send_request_headers.started request=<Request [b'POST']>
send_request_headers.complete
send_request_body.started request=<Request [b'POST']>
send_request_body.complete
receive_response_headers.started request=<Request [b'POST']>
receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Keep-Alive', b'timeout=5, max=100'), (b'Content-Type', b'text/event-stream'), (b'Server', b'llama.cpp'), (b'Transfer-Encoding', b'chunked'), (b'Access-Control-Allow-Origin', b'')])
HTTP Request: POST http://localhost:8080/v1/chat/completions "HTTP/1.1 200 OK"
HTTP Response: POST http://localhost:8080/v1/chat/completions "200 OK" Headers({'keep-alive': 'timeout=5, max=100', 'content-type': 'text/event-stream', 'server': 'llama.cpp', 'transfer-encoding': 'chunked', 'access-control-allow-origin': ''})
request_id: None
receive_response_body.started request=<Request [b'POST']>
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={}, response_metadata={}, id='run--2eae740f-24f8-4402-9014-ae9686495dcf')}, 'run_id': '2eae740f-24f8-4402-9014-ae9686495dcf', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 17, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:a20306cd-782c-141d-178f-097394677393', 'checkpoint_ns': 'call_model:a20306cd-782c-141d-178f-097394677393', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '785ba936-5b0d-4891-a9ec-95e7bf329689']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': 'sWOi1zOF48ZkBC7EvbJChXDLfsLiyZO8', 'function': {'arguments': '{', 'name': 'get_time'}, 'type': 'function'}]}, response_metadata={}, id='run--2eae740f-24f8-4402-9014-ae9686495dcf', tool_calls=[{'name': 'get_time', 'args': {}, 'id': 'sWOi1zOF48ZkBC7EvbJChXDLfsLiyZO8', 'type': 'tool_call'}], tool_call_chunks=[{'name': 'get_time', 'args': '{', 'id': 'sWOi1zOF48ZkBC7EvbJChXDLfsLiyZO8', 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': '2eae740f-24f8-4402-9014-ae9686495dcf', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 17, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:a20306cd-782c-141d-178f-097394677393', 'checkpoint_ns': 'call_model:a20306cd-782c-141d-178f-097394677393', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '785ba936-5b0d-4891-a9ec-95e7bf329689']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': None, 'function': {'arguments': '}', 'name': None}, 'type': None}]}, response_metadata={}, id='run--2eae740f-24f8-4402-9014-ae9686495dcf', invalid_tool_calls=[{'name': None, 'args': '}', 'id': None, 'error': None, 'type': 'invalid_tool_call'}], tool_call_chunks=[{'name': None, 'args': '}', 'id': None, 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': '2eae740f-24f8-4402-9014-ae9686495dcf', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 17, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:a20306cd-782c-141d-178f-097394677393', 'checkpoint_ns': 'call_model:a20306cd-782c-141d-178f-097394677393', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '785ba936-5b0d-4891-a9ec-95e7bf329689']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={}, response_metadata={'finish_reason': 'tool_calls', 'model_name': 'gpt-4', 'system_fingerprint': 'b5833-a0374a67'}, id='run--2eae740f-24f8-4402-9014-ae9686495dcf', usage_metadata={'input_tokens': 291, 'output_tokens': 14, 'total_tokens': 305, 'input_token_details': {}, 'output_token_details': {}})}, 'run_id': '2eae740f-24f8-4402-9014-ae9686495dcf', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 17, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:a20306cd-782c-141d-178f-097394677393', 'checkpoint_ns': 'call_model:a20306cd-782c-141d-178f-097394677393', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '785ba936-5b0d-4891-a9ec-95e7bf329689']}
receive_response_body.complete
response_closed.started
response_closed.complete
close.started
close.complete
EVENT {'event': 'on_chat_model_end', 'data': {'output': AIMessage(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': 'sWOi1zOF48ZkBC7EvbJChXDLfsLiyZO8', 'function': {'arguments': '{}', 'name': 'get_time'}, 'type': 'function'}]}, response_metadata={'finish_reason': 'tool_calls', 'model_name': 'gpt-4', 'system_fingerprint': 'b5833-a0374a67'}, id='run--2eae740f-24f8-4402-9014-ae9686495dcf', tool_calls=[{'name': 'get_time', 'args': {}, 'id': 'sWOi1zOF48ZkBC7EvbJChXDLfsLiyZO8', 'type': 'tool_call'}], usage_metadata={'input_tokens': 291, 'output_tokens': 14, 'total_tokens': 305, 'input_token_details': {}, 'output_token_details': {}}), 'input': {'messages': [[SystemMessage(content='You are a helpful assistant.', additional_kwargs={}, response_metadata={}), ToolMessage(content='2025-10-07T22:41:11.496568', tool_call_id='0MbSc5wKrbbKUqUhLdF4mNLebK76vg8N')]]}}, 'run_id': '2eae740f-24f8-4402-9014-ae9686495dcf', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 17, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:a20306cd-782c-141d-178f-097394677393', 'checkpoint_ns': 'call_model:a20306cd-782c-141d-178f-097394677393', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '785ba936-5b0d-4891-a9ec-95e7bf329689']}
=============================================
TOTAL 305
TOTAL 14
2025-10-08T03:41:13.019990Z [info     ] LLM Node call_model applying context [chatter.core.workflow_graph_builder] correlation_id=01K70YGS5ES17SMV8NEJ4TM3DQ has_retrieval_context=False retrieval_context_length=0
Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-5553c5d9-08da-4e05-b947-20a8cb0aa1e2', 'json_data': {'messages': [{'content': 'You are a helpful assistant.', 'role': 'system'}, {'content': '2025-10-07T22:41:13.018843', 'role': 'tool', 'tool_call_id': 'sWOi1zOF48ZkBC7EvbJChXDLfsLiyZO8'}], 'model': 'gpt-4', 'max_completion_tokens': 4096, 'stream': True, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'calculator', 'description': 'Perform basic mathematical calculations', 'parameters': {'properties': {'expression': {'type': 'string'}}, 'required': ['expression'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'get_time', 'description': "Get the current date and time. Call this function once if needed, optionally specifying a timezone using 'tz' (e.g., 'America/Denver'). After calling, use the returned time to answer the user's question in natural language.", 'parameters': {'properties': {}, 'type': 'object'}}}]}}
Sending HTTP Request: POST http://localhost:8080/v1/chat/completions
connect_tcp.started host='localhost' port=8080 local_address=None timeout=None socket_options=None
connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x728f0f98f1d0>
send_request_headers.started request=<Request [b'POST']>
send_request_headers.complete
send_request_body.started request=<Request [b'POST']>
send_request_body.complete
receive_response_headers.started request=<Request [b'POST']>
receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Keep-Alive', b'timeout=5, max=100'), (b'Content-Type', b'text/event-stream'), (b'Server', b'llama.cpp'), (b'Transfer-Encoding', b'chunked'), (b'Access-Control-Allow-Origin', b'')])
HTTP Request: POST http://localhost:8080/v1/chat/completions "HTTP/1.1 200 OK"
HTTP Response: POST http://localhost:8080/v1/chat/completions "200 OK" Headers({'keep-alive': 'timeout=5, max=100', 'content-type': 'text/event-stream', 'server': 'llama.cpp', 'transfer-encoding': 'chunked', 'access-control-allow-origin': ''})
request_id: None
receive_response_body.started request=<Request [b'POST']>
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={}, response_metadata={}, id='run--127d4051-59a4-4860-8d03-f59b35e47ac5')}, 'run_id': '127d4051-59a4-4860-8d03-f59b35e47ac5', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 19, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:eff7d07d-377e-c3d8-5c9f-ba762fb41dd2', 'checkpoint_ns': 'call_model:eff7d07d-377e-c3d8-5c9f-ba762fb41dd2', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', 'a7e81637-53b4-4613-bdd4-5d21af5e6d29']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': 'goDC660e9I9Y6WsrQUlxQDftATpY7OpR', 'function': {'arguments': '{"', 'name': 'get_time'}, 'type': 'function'}]}, response_metadata={}, id='run--127d4051-59a4-4860-8d03-f59b35e47ac5', tool_calls=[{'name': 'get_time', 'args': {}, 'id': 'goDC660e9I9Y6WsrQUlxQDftATpY7OpR', 'type': 'tool_call'}], tool_call_chunks=[{'name': 'get_time', 'args': '{"', 'id': 'goDC660e9I9Y6WsrQUlxQDftATpY7OpR', 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': '127d4051-59a4-4860-8d03-f59b35e47ac5', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 19, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:eff7d07d-377e-c3d8-5c9f-ba762fb41dd2', 'checkpoint_ns': 'call_model:eff7d07d-377e-c3d8-5c9f-ba762fb41dd2', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', 'a7e81637-53b4-4613-bdd4-5d21af5e6d29']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': None, 'function': {'arguments': 'tz', 'name': None}, 'type': None}]}, response_metadata={}, id='run--127d4051-59a4-4860-8d03-f59b35e47ac5', invalid_tool_calls=[{'name': None, 'args': 'tz', 'id': None, 'error': None, 'type': 'invalid_tool_call'}], tool_call_chunks=[{'name': None, 'args': 'tz', 'id': None, 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': '127d4051-59a4-4860-8d03-f59b35e47ac5', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 19, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:eff7d07d-377e-c3d8-5c9f-ba762fb41dd2', 'checkpoint_ns': 'call_model:eff7d07d-377e-c3d8-5c9f-ba762fb41dd2', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', 'a7e81637-53b4-4613-bdd4-5d21af5e6d29']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': None, 'function': {'arguments': '":', 'name': None}, 'type': None}]}, response_metadata={}, id='run--127d4051-59a4-4860-8d03-f59b35e47ac5', invalid_tool_calls=[{'name': None, 'args': '":', 'id': None, 'error': None, 'type': 'invalid_tool_call'}], tool_call_chunks=[{'name': None, 'args': '":', 'id': None, 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': '127d4051-59a4-4860-8d03-f59b35e47ac5', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 19, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:eff7d07d-377e-c3d8-5c9f-ba762fb41dd2', 'checkpoint_ns': 'call_model:eff7d07d-377e-c3d8-5c9f-ba762fb41dd2', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', 'a7e81637-53b4-4613-bdd4-5d21af5e6d29']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': None, 'function': {'arguments': '"', 'name': None}, 'type': None}]}, response_metadata={}, id='run--127d4051-59a4-4860-8d03-f59b35e47ac5', invalid_tool_calls=[{'name': None, 'args': '"', 'id': None, 'error': None, 'type': 'invalid_tool_call'}], tool_call_chunks=[{'name': None, 'args': '"', 'id': None, 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': '127d4051-59a4-4860-8d03-f59b35e47ac5', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 19, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:eff7d07d-377e-c3d8-5c9f-ba762fb41dd2', 'checkpoint_ns': 'call_model:eff7d07d-377e-c3d8-5c9f-ba762fb41dd2', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', 'a7e81637-53b4-4613-bdd4-5d21af5e6d29']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': None, 'function': {'arguments': 'America', 'name': None}, 'type': None}]}, response_metadata={}, id='run--127d4051-59a4-4860-8d03-f59b35e47ac5', invalid_tool_calls=[{'name': None, 'args': 'America', 'id': None, 'error': None, 'type': 'invalid_tool_call'}], tool_call_chunks=[{'name': None, 'args': 'America', 'id': None, 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': '127d4051-59a4-4860-8d03-f59b35e47ac5', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 19, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:eff7d07d-377e-c3d8-5c9f-ba762fb41dd2', 'checkpoint_ns': 'call_model:eff7d07d-377e-c3d8-5c9f-ba762fb41dd2', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', 'a7e81637-53b4-4613-bdd4-5d21af5e6d29']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': None, 'function': {'arguments': '/D', 'name': None}, 'type': None}]}, response_metadata={}, id='run--127d4051-59a4-4860-8d03-f59b35e47ac5', invalid_tool_calls=[{'name': None, 'args': '/D', 'id': None, 'error': None, 'type': 'invalid_tool_call'}], tool_call_chunks=[{'name': None, 'args': '/D', 'id': None, 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': '127d4051-59a4-4860-8d03-f59b35e47ac5', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 19, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:eff7d07d-377e-c3d8-5c9f-ba762fb41dd2', 'checkpoint_ns': 'call_model:eff7d07d-377e-c3d8-5c9f-ba762fb41dd2', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', 'a7e81637-53b4-4613-bdd4-5d21af5e6d29']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': None, 'function': {'arguments': 'en', 'name': None}, 'type': None}]}, response_metadata={}, id='run--127d4051-59a4-4860-8d03-f59b35e47ac5', invalid_tool_calls=[{'name': None, 'args': 'en', 'id': None, 'error': None, 'type': 'invalid_tool_call'}], tool_call_chunks=[{'name': None, 'args': 'en', 'id': None, 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': '127d4051-59a4-4860-8d03-f59b35e47ac5', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 19, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:eff7d07d-377e-c3d8-5c9f-ba762fb41dd2', 'checkpoint_ns': 'call_model:eff7d07d-377e-c3d8-5c9f-ba762fb41dd2', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', 'a7e81637-53b4-4613-bdd4-5d21af5e6d29']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': None, 'function': {'arguments': 'ver', 'name': None}, 'type': None}]}, response_metadata={}, id='run--127d4051-59a4-4860-8d03-f59b35e47ac5', invalid_tool_calls=[{'name': None, 'args': 'ver', 'id': None, 'error': None, 'type': 'invalid_tool_call'}], tool_call_chunks=[{'name': None, 'args': 'ver', 'id': None, 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': '127d4051-59a4-4860-8d03-f59b35e47ac5', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 19, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:eff7d07d-377e-c3d8-5c9f-ba762fb41dd2', 'checkpoint_ns': 'call_model:eff7d07d-377e-c3d8-5c9f-ba762fb41dd2', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', 'a7e81637-53b4-4613-bdd4-5d21af5e6d29']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': None, 'function': {'arguments': '"}', 'name': None}, 'type': None}]}, response_metadata={}, id='run--127d4051-59a4-4860-8d03-f59b35e47ac5', invalid_tool_calls=[{'name': None, 'args': '"}', 'id': None, 'error': None, 'type': 'invalid_tool_call'}], tool_call_chunks=[{'name': None, 'args': '"}', 'id': None, 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': '127d4051-59a4-4860-8d03-f59b35e47ac5', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 19, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:eff7d07d-377e-c3d8-5c9f-ba762fb41dd2', 'checkpoint_ns': 'call_model:eff7d07d-377e-c3d8-5c9f-ba762fb41dd2', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', 'a7e81637-53b4-4613-bdd4-5d21af5e6d29']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={}, response_metadata={'finish_reason': 'tool_calls', 'model_name': 'gpt-4', 'system_fingerprint': 'b5833-a0374a67'}, id='run--127d4051-59a4-4860-8d03-f59b35e47ac5', usage_metadata={'input_tokens': 291, 'output_tokens': 21, 'total_tokens': 312, 'input_token_details': {}, 'output_token_details': {}})}, 'run_id': '127d4051-59a4-4860-8d03-f59b35e47ac5', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 19, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:eff7d07d-377e-c3d8-5c9f-ba762fb41dd2', 'checkpoint_ns': 'call_model:eff7d07d-377e-c3d8-5c9f-ba762fb41dd2', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', 'a7e81637-53b4-4613-bdd4-5d21af5e6d29']}
receive_response_body.complete
response_closed.started
response_closed.complete
close.started
close.complete
EVENT {'event': 'on_chat_model_end', 'data': {'output': AIMessage(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': 'goDC660e9I9Y6WsrQUlxQDftATpY7OpR', 'function': {'arguments': '{"tz":"America/Denver"}', 'name': 'get_time'}, 'type': 'function'}]}, response_metadata={'finish_reason': 'tool_calls', 'model_name': 'gpt-4', 'system_fingerprint': 'b5833-a0374a67'}, id='run--127d4051-59a4-4860-8d03-f59b35e47ac5', tool_calls=[{'name': 'get_time', 'args': {'tz': 'America/Denver'}, 'id': 'goDC660e9I9Y6WsrQUlxQDftATpY7OpR', 'type': 'tool_call'}], usage_metadata={'input_tokens': 291, 'output_tokens': 21, 'total_tokens': 312, 'input_token_details': {}, 'output_token_details': {}}), 'input': {'messages': [[SystemMessage(content='You are a helpful assistant.', additional_kwargs={}, response_metadata={}), ToolMessage(content='2025-10-07T22:41:13.018843', tool_call_id='sWOi1zOF48ZkBC7EvbJChXDLfsLiyZO8')]]}}, 'run_id': '127d4051-59a4-4860-8d03-f59b35e47ac5', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 19, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:eff7d07d-377e-c3d8-5c9f-ba762fb41dd2', 'checkpoint_ns': 'call_model:eff7d07d-377e-c3d8-5c9f-ba762fb41dd2', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', 'a7e81637-53b4-4613-bdd4-5d21af5e6d29']}
=============================================
TOTAL 312
TOTAL 21
2025-10-08T03:41:15.297825Z [info     ] LLM Node call_model applying context [chatter.core.workflow_graph_builder] correlation_id=01K70YGS5ES17SMV8NEJ4TM3DQ has_retrieval_context=False retrieval_context_length=0
Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-6e550846-6627-4352-bab0-26de42b6974b', 'json_data': {'messages': [{'content': 'You are a helpful assistant.', 'role': 'system'}, {'content': '2025-10-07T22:41:15.296603', 'role': 'tool', 'tool_call_id': 'goDC660e9I9Y6WsrQUlxQDftATpY7OpR'}], 'model': 'gpt-4', 'max_completion_tokens': 4096, 'stream': True, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'calculator', 'description': 'Perform basic mathematical calculations', 'parameters': {'properties': {'expression': {'type': 'string'}}, 'required': ['expression'], 'type': 'object'}}}, {'type': 'function', 'function': {'name': 'get_time', 'description': "Get the current date and time. Call this function once if needed, optionally specifying a timezone using 'tz' (e.g., 'America/Denver'). After calling, use the returned time to answer the user's question in natural language.", 'parameters': {'properties': {}, 'type': 'object'}}}]}}
Sending HTTP Request: POST http://localhost:8080/v1/chat/completions
connect_tcp.started host='localhost' port=8080 local_address=None timeout=None socket_options=None
connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x728f0f3aaba0>
send_request_headers.started request=<Request [b'POST']>
send_request_headers.complete
send_request_body.started request=<Request [b'POST']>
send_request_body.complete
receive_response_headers.started request=<Request [b'POST']>
receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Keep-Alive', b'timeout=5, max=100'), (b'Content-Type', b'text/event-stream'), (b'Server', b'llama.cpp'), (b'Transfer-Encoding', b'chunked'), (b'Access-Control-Allow-Origin', b'')])
HTTP Request: POST http://localhost:8080/v1/chat/completions "HTTP/1.1 200 OK"
HTTP Response: POST http://localhost:8080/v1/chat/completions "200 OK" Headers({'keep-alive': 'timeout=5, max=100', 'content-type': 'text/event-stream', 'server': 'llama.cpp', 'transfer-encoding': 'chunked', 'access-control-allow-origin': ''})
request_id: None
receive_response_body.started request=<Request [b'POST']>
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={}, response_metadata={}, id='run--910d7499-8e87-474e-a564-e061b344ea8c')}, 'run_id': '910d7499-8e87-474e-a564-e061b344ea8c', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 21, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:4d0e0ff1-6890-9611-038a-4ad72034e321', 'checkpoint_ns': 'call_model:4d0e0ff1-6890-9611-038a-4ad72034e321', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '34082c4f-cd7e-4812-880a-a9a3bb030208']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': 'otZYS3vZKoYIPvoPM1Q9V4egTnrks2dd', 'function': {'arguments': '{', 'name': 'get_time'}, 'type': 'function'}]}, response_metadata={}, id='run--910d7499-8e87-474e-a564-e061b344ea8c', tool_calls=[{'name': 'get_time', 'args': {}, 'id': 'otZYS3vZKoYIPvoPM1Q9V4egTnrks2dd', 'type': 'tool_call'}], tool_call_chunks=[{'name': 'get_time', 'args': '{', 'id': 'otZYS3vZKoYIPvoPM1Q9V4egTnrks2dd', 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': '910d7499-8e87-474e-a564-e061b344ea8c', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 21, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:4d0e0ff1-6890-9611-038a-4ad72034e321', 'checkpoint_ns': 'call_model:4d0e0ff1-6890-9611-038a-4ad72034e321', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '34082c4f-cd7e-4812-880a-a9a3bb030208']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': None, 'function': {'arguments': '}', 'name': None}, 'type': None}]}, response_metadata={}, id='run--910d7499-8e87-474e-a564-e061b344ea8c', invalid_tool_calls=[{'name': None, 'args': '}', 'id': None, 'error': None, 'type': 'invalid_tool_call'}], tool_call_chunks=[{'name': None, 'args': '}', 'id': None, 'index': 0, 'type': 'tool_call_chunk'}])}, 'run_id': '910d7499-8e87-474e-a564-e061b344ea8c', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 21, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:4d0e0ff1-6890-9611-038a-4ad72034e321', 'checkpoint_ns': 'call_model:4d0e0ff1-6890-9611-038a-4ad72034e321', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '34082c4f-cd7e-4812-880a-a9a3bb030208']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={}, response_metadata={'finish_reason': 'tool_calls', 'model_name': 'gpt-4', 'system_fingerprint': 'b5833-a0374a67'}, id='run--910d7499-8e87-474e-a564-e061b344ea8c', usage_metadata={'input_tokens': 291, 'output_tokens': 20, 'total_tokens': 311, 'input_token_details': {}, 'output_token_details': {}})}, 'run_id': '910d7499-8e87-474e-a564-e061b344ea8c', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 21, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:4d0e0ff1-6890-9611-038a-4ad72034e321', 'checkpoint_ns': 'call_model:4d0e0ff1-6890-9611-038a-4ad72034e321', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '34082c4f-cd7e-4812-880a-a9a3bb030208']}
receive_response_body.complete
response_closed.started
response_closed.complete
close.started
close.complete
EVENT {'event': 'on_chat_model_end', 'data': {'output': AIMessage(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': 'otZYS3vZKoYIPvoPM1Q9V4egTnrks2dd', 'function': {'arguments': '{}', 'name': 'get_time'}, 'type': 'function'}]}, response_metadata={'finish_reason': 'tool_calls', 'model_name': 'gpt-4', 'system_fingerprint': 'b5833-a0374a67'}, id='run--910d7499-8e87-474e-a564-e061b344ea8c', tool_calls=[{'name': 'get_time', 'args': {}, 'id': 'otZYS3vZKoYIPvoPM1Q9V4egTnrks2dd', 'type': 'tool_call'}], usage_metadata={'input_tokens': 291, 'output_tokens': 20, 'total_tokens': 311, 'input_token_details': {}, 'output_token_details': {}}), 'input': {'messages': [[SystemMessage(content='You are a helpful assistant.', additional_kwargs={}, response_metadata={}), ToolMessage(content='2025-10-07T22:41:15.296603', tool_call_id='goDC660e9I9Y6WsrQUlxQDftATpY7OpR')]]}}, 'run_id': '910d7499-8e87-474e-a564-e061b344ea8c', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 21, 'langgraph_node': 'call_model', 'langgraph_triggers': ('branch:to:call_model',), 'langgraph_path': ('__pregel_pull', 'call_model'), 'langgraph_checkpoint_ns': 'call_model:4d0e0ff1-6890-9611-038a-4ad72034e321', 'checkpoint_ns': 'call_model:4d0e0ff1-6890-9611-038a-4ad72034e321', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '34082c4f-cd7e-4812-880a-a9a3bb030208']}
=============================================
TOTAL 311
TOTAL 20
2025-10-08T03:41:17.465815Z [info     ] LLM Node finalize_response applying context [chatter.core.workflow_graph_builder] correlation_id=01K70YGS5ES17SMV8NEJ4TM3DQ has_retrieval_context=False retrieval_context_length=0
Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-f5a1c856-55b6-4396-93ac-8b2167dac867', 'json_data': {'messages': [{'content': 'Provide a final response based on the tool results.', 'role': 'system'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'otZYS3vZKoYIPvoPM1Q9V4egTnrks2dd', 'function': {'name': 'get_time', 'arguments': '{}'}}]}], 'model': 'gpt-4', 'max_completion_tokens': 4096, 'stream': True, 'temperature': 0.7}}
Sending HTTP Request: POST http://localhost:8080/v1/chat/completions
connect_tcp.started host='localhost' port=8080 local_address=None timeout=None socket_options=None
connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x728f0f37eed0>
send_request_headers.started request=<Request [b'POST']>
send_request_headers.complete
send_request_body.started request=<Request [b'POST']>
send_request_body.complete
receive_response_headers.started request=<Request [b'POST']>
receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Keep-Alive', b'timeout=5, max=100'), (b'Content-Type', b'text/event-stream'), (b'Server', b'llama.cpp'), (b'Transfer-Encoding', b'chunked'), (b'Access-Control-Allow-Origin', b'')])
HTTP Request: POST http://localhost:8080/v1/chat/completions "HTTP/1.1 200 OK"
HTTP Response: POST http://localhost:8080/v1/chat/completions "200 OK" Headers({'keep-alive': 'timeout=5, max=100', 'content-type': 'text/event-stream', 'server': 'llama.cpp', 'transfer-encoding': 'chunked', 'access-control-allow-origin': ''})
request_id: None
receive_response_body.started request=<Request [b'POST']>
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={}, response_metadata={}, id='run--07b7aa1c-8f5f-43b8-b504-6c0add0b5d21')}, 'run_id': '07b7aa1c-8f5f-43b8-b504-6c0add0b5d21', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 22, 'langgraph_node': 'finalize_response', 'langgraph_triggers': ('branch:to:finalize_response',), 'langgraph_path': ('__pregel_pull', 'finalize_response'), 'langgraph_checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '77745506-d973-41ca-b892-8e716314dcb5']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='I', additional_kwargs={}, response_metadata={}, id='run--07b7aa1c-8f5f-43b8-b504-6c0add0b5d21')}, 'run_id': '07b7aa1c-8f5f-43b8-b504-6c0add0b5d21', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 22, 'langgraph_node': 'finalize_response', 'langgraph_triggers': ('branch:to:finalize_response',), 'langgraph_path': ('__pregel_pull', 'finalize_response'), 'langgraph_checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '77745506-d973-41ca-b892-8e716314dcb5']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content=' haven', additional_kwargs={}, response_metadata={}, id='run--07b7aa1c-8f5f-43b8-b504-6c0add0b5d21')}, 'run_id': '07b7aa1c-8f5f-43b8-b504-6c0add0b5d21', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 22, 'langgraph_node': 'finalize_response', 'langgraph_triggers': ('branch:to:finalize_response',), 'langgraph_path': ('__pregel_pull', 'finalize_response'), 'langgraph_checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '77745506-d973-41ca-b892-8e716314dcb5']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content="'t", additional_kwargs={}, response_metadata={}, id='run--07b7aa1c-8f5f-43b8-b504-6c0add0b5d21')}, 'run_id': '07b7aa1c-8f5f-43b8-b504-6c0add0b5d21', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 22, 'langgraph_node': 'finalize_response', 'langgraph_triggers': ('branch:to:finalize_response',), 'langgraph_path': ('__pregel_pull', 'finalize_response'), 'langgraph_checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '77745506-d973-41ca-b892-8e716314dcb5']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content=' been', additional_kwargs={}, response_metadata={}, id='run--07b7aa1c-8f5f-43b8-b504-6c0add0b5d21')}, 'run_id': '07b7aa1c-8f5f-43b8-b504-6c0add0b5d21', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 22, 'langgraph_node': 'finalize_response', 'langgraph_triggers': ('branch:to:finalize_response',), 'langgraph_path': ('__pregel_pull', 'finalize_response'), 'langgraph_checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '77745506-d973-41ca-b892-8e716314dcb5']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content=' provided', additional_kwargs={}, response_metadata={}, id='run--07b7aa1c-8f5f-43b8-b504-6c0add0b5d21')}, 'run_id': '07b7aa1c-8f5f-43b8-b504-6c0add0b5d21', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 22, 'langgraph_node': 'finalize_response', 'langgraph_triggers': ('branch:to:finalize_response',), 'langgraph_path': ('__pregel_pull', 'finalize_response'), 'langgraph_checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '77745506-d973-41ca-b892-8e716314dcb5']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content=' with', additional_kwargs={}, response_metadata={}, id='run--07b7aa1c-8f5f-43b8-b504-6c0add0b5d21')}, 'run_id': '07b7aa1c-8f5f-43b8-b504-6c0add0b5d21', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 22, 'langgraph_node': 'finalize_response', 'langgraph_triggers': ('branch:to:finalize_response',), 'langgraph_path': ('__pregel_pull', 'finalize_response'), 'langgraph_checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '77745506-d973-41ca-b892-8e716314dcb5']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content=' any', additional_kwargs={}, response_metadata={}, id='run--07b7aa1c-8f5f-43b8-b504-6c0add0b5d21')}, 'run_id': '07b7aa1c-8f5f-43b8-b504-6c0add0b5d21', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 22, 'langgraph_node': 'finalize_response', 'langgraph_triggers': ('branch:to:finalize_response',), 'langgraph_path': ('__pregel_pull', 'finalize_response'), 'langgraph_checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '77745506-d973-41ca-b892-8e716314dcb5']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content=' tool', additional_kwargs={}, response_metadata={}, id='run--07b7aa1c-8f5f-43b8-b504-6c0add0b5d21')}, 'run_id': '07b7aa1c-8f5f-43b8-b504-6c0add0b5d21', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 22, 'langgraph_node': 'finalize_response', 'langgraph_triggers': ('branch:to:finalize_response',), 'langgraph_path': ('__pregel_pull', 'finalize_response'), 'langgraph_checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '77745506-d973-41ca-b892-8e716314dcb5']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content=' results', additional_kwargs={}, response_metadata={}, id='run--07b7aa1c-8f5f-43b8-b504-6c0add0b5d21')}, 'run_id': '07b7aa1c-8f5f-43b8-b504-6c0add0b5d21', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 22, 'langgraph_node': 'finalize_response', 'langgraph_triggers': ('branch:to:finalize_response',), 'langgraph_path': ('__pregel_pull', 'finalize_response'), 'langgraph_checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '77745506-d973-41ca-b892-8e716314dcb5']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='.', additional_kwargs={}, response_metadata={}, id='run--07b7aa1c-8f5f-43b8-b504-6c0add0b5d21')}, 'run_id': '07b7aa1c-8f5f-43b8-b504-6c0add0b5d21', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 22, 'langgraph_node': 'finalize_response', 'langgraph_triggers': ('branch:to:finalize_response',), 'langgraph_path': ('__pregel_pull', 'finalize_response'), 'langgraph_checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '77745506-d973-41ca-b892-8e716314dcb5']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content=' This', additional_kwargs={}, response_metadata={}, id='run--07b7aa1c-8f5f-43b8-b504-6c0add0b5d21')}, 'run_id': '07b7aa1c-8f5f-43b8-b504-6c0add0b5d21', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 22, 'langgraph_node': 'finalize_response', 'langgraph_triggers': ('branch:to:finalize_response',), 'langgraph_path': ('__pregel_pull', 'finalize_response'), 'langgraph_checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '77745506-d973-41ca-b892-8e716314dcb5']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content=' conversation', additional_kwargs={}, response_metadata={}, id='run--07b7aa1c-8f5f-43b8-b504-6c0add0b5d21')}, 'run_id': '07b7aa1c-8f5f-43b8-b504-6c0add0b5d21', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 22, 'langgraph_node': 'finalize_response', 'langgraph_triggers': ('branch:to:finalize_response',), 'langgraph_path': ('__pregel_pull', 'finalize_response'), 'langgraph_checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '77745506-d973-41ca-b892-8e716314dcb5']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content=' has', additional_kwargs={}, response_metadata={}, id='run--07b7aa1c-8f5f-43b8-b504-6c0add0b5d21')}, 'run_id': '07b7aa1c-8f5f-43b8-b504-6c0add0b5d21', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 22, 'langgraph_node': 'finalize_response', 'langgraph_triggers': ('branch:to:finalize_response',), 'langgraph_path': ('__pregel_pull', 'finalize_response'), 'langgraph_checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '77745506-d973-41ca-b892-8e716314dcb5']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content=' just', additional_kwargs={}, response_metadata={}, id='run--07b7aa1c-8f5f-43b8-b504-6c0add0b5d21')}, 'run_id': '07b7aa1c-8f5f-43b8-b504-6c0add0b5d21', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 22, 'langgraph_node': 'finalize_response', 'langgraph_triggers': ('branch:to:finalize_response',), 'langgraph_path': ('__pregel_pull', 'finalize_response'), 'langgraph_checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '77745506-d973-41ca-b892-8e716314dcb5']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content=' begun', additional_kwargs={}, response_metadata={}, id='run--07b7aa1c-8f5f-43b8-b504-6c0add0b5d21')}, 'run_id': '07b7aa1c-8f5f-43b8-b504-6c0add0b5d21', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 22, 'langgraph_node': 'finalize_response', 'langgraph_triggers': ('branch:to:finalize_response',), 'langgraph_path': ('__pregel_pull', 'finalize_response'), 'langgraph_checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '77745506-d973-41ca-b892-8e716314dcb5']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='.', additional_kwargs={}, response_metadata={}, id='run--07b7aa1c-8f5f-43b8-b504-6c0add0b5d21')}, 'run_id': '07b7aa1c-8f5f-43b8-b504-6c0add0b5d21', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 22, 'langgraph_node': 'finalize_response', 'langgraph_triggers': ('branch:to:finalize_response',), 'langgraph_path': ('__pregel_pull', 'finalize_response'), 'langgraph_checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '77745506-d973-41ca-b892-8e716314dcb5']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content=' Please', additional_kwargs={}, response_metadata={}, id='run--07b7aa1c-8f5f-43b8-b504-6c0add0b5d21')}, 'run_id': '07b7aa1c-8f5f-43b8-b504-6c0add0b5d21', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 22, 'langgraph_node': 'finalize_response', 'langgraph_triggers': ('branch:to:finalize_response',), 'langgraph_path': ('__pregel_pull', 'finalize_response'), 'langgraph_checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '77745506-d973-41ca-b892-8e716314dcb5']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content=' proceed', additional_kwargs={}, response_metadata={}, id='run--07b7aa1c-8f5f-43b8-b504-6c0add0b5d21')}, 'run_id': '07b7aa1c-8f5f-43b8-b504-6c0add0b5d21', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 22, 'langgraph_node': 'finalize_response', 'langgraph_triggers': ('branch:to:finalize_response',), 'langgraph_path': ('__pregel_pull', 'finalize_response'), 'langgraph_checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '77745506-d973-41ca-b892-8e716314dcb5']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content=' with', additional_kwargs={}, response_metadata={}, id='run--07b7aa1c-8f5f-43b8-b504-6c0add0b5d21')}, 'run_id': '07b7aa1c-8f5f-43b8-b504-6c0add0b5d21', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 22, 'langgraph_node': 'finalize_response', 'langgraph_triggers': ('branch:to:finalize_response',), 'langgraph_path': ('__pregel_pull', 'finalize_response'), 'langgraph_checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '77745506-d973-41ca-b892-8e716314dcb5']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content=' your', additional_kwargs={}, response_metadata={}, id='run--07b7aa1c-8f5f-43b8-b504-6c0add0b5d21')}, 'run_id': '07b7aa1c-8f5f-43b8-b504-6c0add0b5d21', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 22, 'langgraph_node': 'finalize_response', 'langgraph_triggers': ('branch:to:finalize_response',), 'langgraph_path': ('__pregel_pull', 'finalize_response'), 'langgraph_checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '77745506-d973-41ca-b892-8e716314dcb5']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content=' questions', additional_kwargs={}, response_metadata={}, id='run--07b7aa1c-8f5f-43b8-b504-6c0add0b5d21')}, 'run_id': '07b7aa1c-8f5f-43b8-b504-6c0add0b5d21', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 22, 'langgraph_node': 'finalize_response', 'langgraph_triggers': ('branch:to:finalize_response',), 'langgraph_path': ('__pregel_pull', 'finalize_response'), 'langgraph_checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '77745506-d973-41ca-b892-8e716314dcb5']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content=' or', additional_kwargs={}, response_metadata={}, id='run--07b7aa1c-8f5f-43b8-b504-6c0add0b5d21')}, 'run_id': '07b7aa1c-8f5f-43b8-b504-6c0add0b5d21', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 22, 'langgraph_node': 'finalize_response', 'langgraph_triggers': ('branch:to:finalize_response',), 'langgraph_path': ('__pregel_pull', 'finalize_response'), 'langgraph_checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '77745506-d973-41ca-b892-8e716314dcb5']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content=' prompts', additional_kwargs={}, response_metadata={}, id='run--07b7aa1c-8f5f-43b8-b504-6c0add0b5d21')}, 'run_id': '07b7aa1c-8f5f-43b8-b504-6c0add0b5d21', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 22, 'langgraph_node': 'finalize_response', 'langgraph_triggers': ('branch:to:finalize_response',), 'langgraph_path': ('__pregel_pull', 'finalize_response'), 'langgraph_checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '77745506-d973-41ca-b892-8e716314dcb5']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content=',', additional_kwargs={}, response_metadata={}, id='run--07b7aa1c-8f5f-43b8-b504-6c0add0b5d21')}, 'run_id': '07b7aa1c-8f5f-43b8-b504-6c0add0b5d21', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 22, 'langgraph_node': 'finalize_response', 'langgraph_triggers': ('branch:to:finalize_response',), 'langgraph_path': ('__pregel_pull', 'finalize_response'), 'langgraph_checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '77745506-d973-41ca-b892-8e716314dcb5']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content=' and', additional_kwargs={}, response_metadata={}, id='run--07b7aa1c-8f5f-43b8-b504-6c0add0b5d21')}, 'run_id': '07b7aa1c-8f5f-43b8-b504-6c0add0b5d21', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 22, 'langgraph_node': 'finalize_response', 'langgraph_triggers': ('branch:to:finalize_response',), 'langgraph_path': ('__pregel_pull', 'finalize_response'), 'langgraph_checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '77745506-d973-41ca-b892-8e716314dcb5']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content=' I', additional_kwargs={}, response_metadata={}, id='run--07b7aa1c-8f5f-43b8-b504-6c0add0b5d21')}, 'run_id': '07b7aa1c-8f5f-43b8-b504-6c0add0b5d21', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 22, 'langgraph_node': 'finalize_response', 'langgraph_triggers': ('branch:to:finalize_response',), 'langgraph_path': ('__pregel_pull', 'finalize_response'), 'langgraph_checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '77745506-d973-41ca-b892-8e716314dcb5']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content="'ll", additional_kwargs={}, response_metadata={}, id='run--07b7aa1c-8f5f-43b8-b504-6c0add0b5d21')}, 'run_id': '07b7aa1c-8f5f-43b8-b504-6c0add0b5d21', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 22, 'langgraph_node': 'finalize_response', 'langgraph_triggers': ('branch:to:finalize_response',), 'langgraph_path': ('__pregel_pull', 'finalize_response'), 'langgraph_checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '77745506-d973-41ca-b892-8e716314dcb5']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content=' be', additional_kwargs={}, response_metadata={}, id='run--07b7aa1c-8f5f-43b8-b504-6c0add0b5d21')}, 'run_id': '07b7aa1c-8f5f-43b8-b504-6c0add0b5d21', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 22, 'langgraph_node': 'finalize_response', 'langgraph_triggers': ('branch:to:finalize_response',), 'langgraph_path': ('__pregel_pull', 'finalize_response'), 'langgraph_checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '77745506-d973-41ca-b892-8e716314dcb5']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content=' happy', additional_kwargs={}, response_metadata={}, id='run--07b7aa1c-8f5f-43b8-b504-6c0add0b5d21')}, 'run_id': '07b7aa1c-8f5f-43b8-b504-6c0add0b5d21', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 22, 'langgraph_node': 'finalize_response', 'langgraph_triggers': ('branch:to:finalize_response',), 'langgraph_path': ('__pregel_pull', 'finalize_response'), 'langgraph_checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '77745506-d973-41ca-b892-8e716314dcb5']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content=' to', additional_kwargs={}, response_metadata={}, id='run--07b7aa1c-8f5f-43b8-b504-6c0add0b5d21')}, 'run_id': '07b7aa1c-8f5f-43b8-b504-6c0add0b5d21', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 22, 'langgraph_node': 'finalize_response', 'langgraph_triggers': ('branch:to:finalize_response',), 'langgraph_path': ('__pregel_pull', 'finalize_response'), 'langgraph_checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '77745506-d973-41ca-b892-8e716314dcb5']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content=' assist', additional_kwargs={}, response_metadata={}, id='run--07b7aa1c-8f5f-43b8-b504-6c0add0b5d21')}, 'run_id': '07b7aa1c-8f5f-43b8-b504-6c0add0b5d21', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 22, 'langgraph_node': 'finalize_response', 'langgraph_triggers': ('branch:to:finalize_response',), 'langgraph_path': ('__pregel_pull', 'finalize_response'), 'langgraph_checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '77745506-d973-41ca-b892-8e716314dcb5']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content=' you', additional_kwargs={}, response_metadata={}, id='run--07b7aa1c-8f5f-43b8-b504-6c0add0b5d21')}, 'run_id': '07b7aa1c-8f5f-43b8-b504-6c0add0b5d21', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 22, 'langgraph_node': 'finalize_response', 'langgraph_triggers': ('branch:to:finalize_response',), 'langgraph_path': ('__pregel_pull', 'finalize_response'), 'langgraph_checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '77745506-d973-41ca-b892-8e716314dcb5']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='.', additional_kwargs={}, response_metadata={}, id='run--07b7aa1c-8f5f-43b8-b504-6c0add0b5d21')}, 'run_id': '07b7aa1c-8f5f-43b8-b504-6c0add0b5d21', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 22, 'langgraph_node': 'finalize_response', 'langgraph_triggers': ('branch:to:finalize_response',), 'langgraph_path': ('__pregel_pull', 'finalize_response'), 'langgraph_checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '77745506-d973-41ca-b892-8e716314dcb5']}
EVENT {'event': 'on_chat_model_stream', 'data': {'chunk': AIMessageChunk(content='', additional_kwargs={}, response_metadata={'finish_reason': 'stop', 'model_name': 'gpt-4', 'system_fingerprint': 'b5833-a0374a67'}, id='run--07b7aa1c-8f5f-43b8-b504-6c0add0b5d21', usage_metadata={'input_tokens': 40, 'output_tokens': 34, 'total_tokens': 74, 'input_token_details': {}, 'output_token_details': {}})}, 'run_id': '07b7aa1c-8f5f-43b8-b504-6c0add0b5d21', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 22, 'langgraph_node': 'finalize_response', 'langgraph_triggers': ('branch:to:finalize_response',), 'langgraph_path': ('__pregel_pull', 'finalize_response'), 'langgraph_checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '77745506-d973-41ca-b892-8e716314dcb5']}
receive_response_body.complete
response_closed.started
response_closed.complete
close.started
close.complete
EVENT {'event': 'on_chat_model_end', 'data': {'output': AIMessage(content="I haven't been provided with any tool results. This conversation has just begun. Please proceed with your questions or prompts, and I'll be happy to assist you.", additional_kwargs={}, response_metadata={'finish_reason': 'stop', 'model_name': 'gpt-4', 'system_fingerprint': 'b5833-a0374a67'}, id='run--07b7aa1c-8f5f-43b8-b504-6c0add0b5d21', usage_metadata={'input_tokens': 40, 'output_tokens': 34, 'total_tokens': 74, 'input_token_details': {}, 'output_token_details': {}}), 'input': {'messages': [[SystemMessage(content='Provide a final response based on the tool results.', additional_kwargs={}, response_metadata={}), AIMessage(content='', additional_kwargs={'tool_calls': [{'index': 0, 'id': 'otZYS3vZKoYIPvoPM1Q9V4egTnrks2dd', 'function': {'arguments': '{}', 'name': 'get_time'}, 'type': 'function'}]}, response_metadata={'finish_reason': 'tool_calls', 'model_name': 'gpt-4', 'system_fingerprint': 'b5833-a0374a67'}, id='run--910d7499-8e87-474e-a564-e061b344ea8c', tool_calls=[{'name': 'get_time', 'args': {}, 'id': 'otZYS3vZKoYIPvoPM1Q9V4egTnrks2dd', 'type': 'tool_call'}], usage_metadata={'input_tokens': 291, 'output_tokens': 20, 'total_tokens': 311, 'input_token_details': {}, 'output_token_details': {}})]]}}, 'run_id': '07b7aa1c-8f5f-43b8-b504-6c0add0b5d21', 'name': 'ChatOpenAI', 'tags': ['seq:step:1'], 'metadata': {'thread_id': '01K6Z7HNH64ZEFX2STQ1HT660S', 'langgraph_step': 22, 'langgraph_node': 'finalize_response', 'langgraph_triggers': ('branch:to:finalize_response',), 'langgraph_path': ('__pregel_pull', 'finalize_response'), 'langgraph_checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'checkpoint_ns': 'finalize_response:6412a61b-069b-b9a8-8ec0-a529aaac0178', 'ls_provider': 'openai', 'ls_model_name': 'gpt-4', 'ls_model_type': 'chat', 'ls_temperature': 0.7, 'ls_max_tokens': 4096}, 'parent_ids': ['966f1383-91a8-4dd1-b194-e83c8f82b918', '77745506-d973-41ca-b892-8e716314dcb5']}
=============================================
TOTAL 74
TOTAL 34
2025-10-08T03:41:21.470934Z [info     ] Finished workflow tracking     [chatter.core.monitoring] correlation_id=01K70YGS5ES17SMV8NEJ4TM3DQ execution_time=24.359436 success=True workflow_id=01K70YGSCQ2QDPAT0TZJ4WPDHR
2025-10-08T03:41:21.471296Z [info     ] Completed workflow execution 01K70YGS686AT2CXZGVJGHA6PS [chatter.core.workflow_tracker] correlation_id=01K70YGS5ES17SMV8NEJ4TM3DQ cost=0.0 execution_time_ms=24352 tokens_used=74
