
> frontend@0.1.0 test
> vitest run --passWithNoTests


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90m/home/runner/work/chatter/chatter/frontend[39m

[90mstderr[2m | src/services/__tests__/sse-manager.test.ts[2m > [22m[2mSSEEventManager[2m > [22m[2mConnection Management[2m > [22m[2mshould not connect when not authenticated
[22m[39mSSE: Not authenticated. Please login first.

[90mstdout[2m | src/services/__tests__/sse-manager.test.ts[2m > [22m[2mSSEEventManager[2m > [22m[2mConnection Management[2m > [22m[2mshould not connect when not authenticated
[22m[39mSSE: Disconnected

[90mstdout[2m | src/services/__tests__/sse-manager.test.ts[2m > [22m[2mSSEEventManager[2m > [22m[2mConnection Management[2m > [22m[2mshould connect when authenticated
[22m[39mSSE: Connecting to http://localhost:8000/api/v1/events/stream

[90mstdout[2m | src/services/__tests__/sse-manager.test.ts[2m > [22m[2mSSEEventManager[2m > [22m[2mConnection Management[2m > [22m[2mshould connect when authenticated
[22m[39mSSE: Disconnected

[90mstdout[2m | src/services/__tests__/sse-manager.test.ts[2m > [22m[2mSSEEventManager[2m > [22m[2mConnection Management[2m > [22m[2mshould not create multiple connections
[22m[39mSSE: Connecting to http://localhost:8000/api/v1/events/stream
SSE: Connecting to http://localhost:8000/api/v1/events/stream

[90mstdout[2m | src/services/__tests__/sse-manager.test.ts[2m > [22m[2mSSEEventManager[2m > [22m[2mConnection Management[2m > [22m[2mshould not create multiple connections
[22m[39mSSE: Disconnected

[90mstdout[2m | src/services/__tests__/sse-manager.test.ts[2m > [22m[2mSSEEventManager[2m > [22m[2mConnection Management[2m > [22m[2mshould disconnect properly
[22m[39mSSE: Connecting to http://localhost:8000/api/v1/events/stream
SSE: Disconnected

[90mstdout[2m | src/services/__tests__/sse-manager.test.ts[2m > [22m[2mSSEEventManager[2m > [22m[2mConnection Management[2m > [22m[2mshould disconnect properly
[22m[39mSSE: Disconnected

[90mstdout[2m | src/services/__tests__/sse-manager.test.ts[2m > [22m[2mSSEEventManager[2m > [22m[2mEvent Listening[2m > [22m[2mshould register event listeners
[22m[39mSSE: Disconnected

[90mstdout[2m | src/services/__tests__/sse-manager.test.ts[2m > [22m[2mSSEEventManager[2m > [22m[2mEvent Listening[2m > [22m[2mshould remove event listeners
[22m[39mSSE: Disconnected

[90mstdout[2m | src/services/__tests__/sse-manager.test.ts[2m > [22m[2mSSEEventManager[2m > [22m[2mEvent Listening[2m > [22m[2mshould handle multiple listeners for same event
[22m[39mSSE: Disconnected

[90mstdout[2m | src/services/__tests__/sse-manager.test.ts[2m > [22m[2mSSEEventManager[2m > [22m[2mEvent Processing[2m > [22m[2mshould process chat message chunk events
[22m[39mSSE: Connecting to http://localhost:8000/api/v1/events/stream

[90mstderr[2m | src/services/__tests__/sse-manager.test.ts[2m > [22m[2mSSEEventManager[2m > [22m[2mEvent Processing[2m > [22m[2mshould process chat message chunk events
[22m[39mSSE: Connection error TypeError: fetch failed
[90m    at node:internal/deps/undici/undici:13510:13[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at SSEEventManager.connectWithFetch [90m(/home/runner/work/chatter/chatter/frontend/[39msrc/services/sse-manager.ts:169:24[90m)[39m {
  [cause]: AggregateError: 
  [90m    at internalConnectMultiple (node:net:1122:18)[39m
  [90m    at afterConnectMultiple (node:net:1689:7)[39m {
    code: [32m'ECONNREFUSED'[39m,
    [errors]: [ [36m[Error][39m, [36m[Error][39m ]
  }
}

[90mstderr[2m | src/services/__tests__/sse-manager.test.ts[2m > [22m[2mSSEEventManager[2m > [22m[2mEvent Processing[2m > [22m[2mshould process chat message chunk events
[22m[39mSSE: Connection error TypeError: fetch failed
[90m    at node:internal/deps/undici/undici:13510:13[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at SSEEventManager.connectWithFetch [90m(/home/runner/work/chatter/chatter/frontend/[39msrc/services/sse-manager.ts:169:24[90m)[39m {
  [cause]: AggregateError: 
  [90m    at internalConnectMultiple (node:net:1122:18)[39m
  [90m    at afterConnectMultiple (node:net:1689:7)[39m {
    code: [32m'ECONNREFUSED'[39m,
    [errors]: [ [36m[Error][39m, [36m[Error][39m ]
  }
}

[90mstderr[2m | src/services/__tests__/sse-manager.test.ts[2m > [22m[2mSSEEventManager[2m > [22m[2mEvent Processing[2m > [22m[2mshould process chat message chunk events
[22m[39mSSE: Connection error TypeError: fetch failed
[90m    at node:internal/deps/undici/undici:13510:13[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at SSEEventManager.connectWithFetch [90m(/home/runner/work/chatter/chatter/frontend/[39msrc/services/sse-manager.ts:169:24[90m)[39m {
  [cause]: AggregateError: 
  [90m    at internalConnectMultiple (node:net:1122:18)[39m
  [90m    at afterConnectMultiple (node:net:1689:7)[39m {
    code: [32m'ECONNREFUSED'[39m,
    [errors]: [ [36m[Error][39m, [36m[Error][39m ]
  }
}

[90mstderr[2m | src/services/__tests__/sse-manager.test.ts[2m > [22m[2mSSEEventManager[2m > [22m[2mEvent Processing[2m > [22m[2mshould process chat message chunk events
[22m[39mSSE: Connection error TypeError: fetch failed
[90m    at node:internal/deps/undici/undici:13510:13[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at SSEEventManager.connectWithFetch [90m(/home/runner/work/chatter/chatter/frontend/[39msrc/services/sse-manager.ts:169:24[90m)[39m {
  [cause]: AggregateError: 
  [90m    at internalConnectMultiple (node:net:1122:18)[39m
  [90m    at afterConnectMultiple (node:net:1689:7)[39m {
    code: [32m'ECONNREFUSED'[39m,
    [errors]: [ [36m[Error][39m, [36m[Error][39m ]
  }
}

[90mstdout[2m | src/services/__tests__/sse-manager.test.ts[2m > [22m[2mSSEEventManager[2m > [22m[2mEvent Processing[2m > [22m[2mshould process chat message chunk events
[22m[39mSSE: Scheduling reconnection attempt 1/10 in 1965.7080292462042ms

[90mstderr[2m | src/services/__tests__/sse-manager.test.ts[2m > [22m[2mSSEEventManager[2m > [22m[2mEvent Processing[2m > [22m[2mshould process chat message chunk events
[22m[39mSSE: Connection error TypeError: fetch failed
[90m    at node:internal/deps/undici/undici:13510:13[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at SSEEventManager.connectWithFetch [90m(/home/runner/work/chatter/chatter/frontend/[39msrc/services/sse-manager.ts:169:24[90m)[39m {
  [cause]: AggregateError: 
  [90m    at internalConnectMultiple (node:net:1122:18)[39m
  [90m    at afterConnectMultiple (node:net:1689:7)[39m {
    code: [32m'ECONNREFUSED'[39m,
    [errors]: [ [36m[Error][39m, [36m[Error][39m ]
  }
}

[90mstdout[2m | src/services/__tests__/sse-manager.test.ts[2m > [22m[2mSSEEventManager[2m > [22m[2mEvent Processing[2m > [22m[2mshould process chat message chunk events
[22m[39mSSE: Disconnected

[90mstdout[2m | src/services/__tests__/sse-manager.test.ts[2m > [22m[2mSSEEventManager[2m > [22m[2mEvent Processing[2m > [22m[2mshould process workflow status events
[22m[39mSSE: Connecting to http://localhost:8000/api/v1/events/stream

[90mstderr[2m | src/services/__tests__/sse-manager.test.ts[2m > [22m[2mSSEEventManager[2m > [22m[2mEvent Processing[2m > [22m[2mshould process workflow status events
[22m[39mSSE: Connection error TypeError: fetch failed
[90m    at node:internal/deps/undici/undici:13510:13[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at SSEEventManager.connectWithFetch [90m(/home/runner/work/chatter/chatter/frontend/[39msrc/services/sse-manager.ts:169:24[90m)[39m {
  [cause]: AggregateError: 
  [90m    at internalConnectMultiple (node:net:1122:18)[39m
  [90m    at afterConnectMultiple (node:net:1689:7)[39m {
    code: [32m'ECONNREFUSED'[39m,
    [errors]: [ [36m[Error][39m, [36m[Error][39m ]
  }
}

[90mstdout[2m | src/services/__tests__/sse-manager.test.ts[2m > [22m[2mSSEEventManager[2m > [22m[2mEvent Processing[2m > [22m[2mshould process workflow status events
[22m[39mSSE: Scheduling reconnection attempt 1/10 in 1954.7042981488248ms

[90mstdout[2m | src/services/__tests__/sse-manager.test.ts[2m > [22m[2mSSEEventManager[2m > [22m[2mEvent Processing[2m > [22m[2mshould process workflow status events
[22m[39mSSE: Disconnected

[90mstdout[2m | src/services/__tests__/sse-manager.test.ts[2m > [22m[2mSSEEventManager[2m > [22m[2mEvent Processing[2m > [22m[2mshould process document processing events
[22m[39mSSE: Connecting to http://localhost:8000/api/v1/events/stream

[90mstderr[2m | src/services/__tests__/sse-manager.test.ts[2m > [22m[2mSSEEventManager[2m > [22m[2mEvent Processing[2m > [22m[2mshould process document processing events
[22m[39mSSE: Connection error TypeError: fetch failed
[90m    at node:internal/deps/undici/undici:13510:13[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at SSEEventManager.connectWithFetch [90m(/home/runner/work/chatter/chatter/frontend/[39msrc/services/sse-manager.ts:169:24[90m)[39m {
  [cause]: AggregateError: 
  [90m    at internalConnectMultiple (node:net:1122:18)[39m
  [90m    at afterConnectMultiple (node:net:1689:7)[39m {
    code: [32m'ECONNREFUSED'[39m,
    [errors]: [ [36m[Error][39m, [36m[Error][39m ]
  }
}

[90mstdout[2m | src/services/__tests__/sse-manager.test.ts[2m > [22m[2mSSEEventManager[2m > [22m[2mEvent Processing[2m > [22m[2mshould process document processing events
[22m[39mSSE: Scheduling reconnection attempt 1/10 in 1089.9413646494638ms

[90mstdout[2m | src/services/__tests__/sse-manager.test.ts[2m > [22m[2mSSEEventManager[2m > [22m[2mEvent Processing[2m > [22m[2mshould process document processing events
[22m[39mSSE: Disconnected

[90mstdout[2m | src/services/__tests__/sse-manager.test.ts[2m > [22m[2mSSEEventManager[2m > [22m[2mConnection Health[2m > [22m[2mshould track connection metrics
[22m[39mSSE: Connecting to http://localhost:8000/api/v1/events/stream

[90mstdout[2m | src/services/__tests__/sse-manager.test.ts[2m > [22m[2mSSEEventManager[2m > [22m[2mConnection Health[2m > [22m[2mshould track connection metrics
[22m[39mSSE: Disconnected

[90mstdout[2m | src/services/__tests__/sse-manager.test.ts[2m > [22m[2mSSEEventManager[2m > [22m[2mConnection Health[2m > [22m[2mshould increment event count on messages
[22m[39mSSE: Connecting to http://localhost:8000/api/v1/events/stream

[90mstdout[2m | src/services/__tests__/sse-manager.test.ts[2m > [22m[2mSSEEventManager[2m > [22m[2mConnection Health[2m > [22m[2mshould increment event count on messages
[22m[39mSSE: Disconnected

[90mstdout[2m | src/services/__tests__/sse-manager.test.ts[2m > [22m[2mSSEEventManager[2m > [22m[2mReconnection Logic[2m > [22m[2mshould attempt reconnection on connection loss
[22m[39mSSE: Connecting to http://localhost:8000/api/v1/events/stream

[90mstdout[2m | src/services/__tests__/sse-manager.test.ts[2m > [22m[2mSSEEventManager[2m > [22m[2mReconnection Logic[2m > [22m[2mshould attempt reconnection on connection loss
[22m[39mSSE: Disconnected

[90mstdout[2m | src/services/__tests__/sse-manager.test.ts[2m > [22m[2mSSEEventManager[2m > [22m[2mError Handling[2m > [22m[2mshould handle malformed messages gracefully
[22m[39mSSE: Connecting to http://localhost:8000/api/v1/events/stream

[90mstdout[2m | src/services/__tests__/sse-manager.test.ts[2m > [22m[2mSSEEventManager[2m > [22m[2mError Handling[2m > [22m[2mshould handle malformed messages gracefully
[22m[39mSSE: Disconnected

[90mstdout[2m | src/services/__tests__/sse-manager.test.ts[2m > [22m[2mSSEEventManager[2m > [22m[2mError Handling[2m > [22m[2mshould handle connection errors
[22m[39mSSE: Connecting to http://localhost:8000/api/v1/events/stream

[90mstdout[2m | src/services/__tests__/sse-manager.test.ts[2m > [22m[2mSSEEventManager[2m > [22m[2mError Handling[2m > [22m[2mshould handle connection errors
[22m[39mSSE: Disconnected

[90mstdout[2m | src/services/__tests__/sse-manager.test.ts[2m > [22m[2mSSEEventManager[2m > [22m[2mCleanup[2m > [22m[2mshould cleanup resources on disconnect
[22m[39mSSE: Connecting to http://localhost:8000/api/v1/events/stream
SSE: Disconnected

[90mstdout[2m | src/services/__tests__/sse-manager.test.ts[2m > [22m[2mSSEEventManager[2m > [22m[2mCleanup[2m > [22m[2mshould cleanup resources on disconnect
[22m[39mSSE: Disconnected

 [31mâ¯[39m src/services/__tests__/sse-manager.test.ts [2m([22m[2m16 tests[22m[2m | [22m[31m6 failed[39m[2m)[22m[32m 136[2mms[22m[39m
   [32mâœ“[39m SSEEventManager[2m > [22mConnection Management[2m > [22mshould not connect when not authenticated[32m 7[2mms[22m[39m
   [32mâœ“[39m SSEEventManager[2m > [22mConnection Management[2m > [22mshould connect when authenticated[32m 26[2mms[22m[39m
[31m   [31mÃ—[31m SSEEventManager[2m > [22mConnection Management[2m > [22mshould not create multiple connections[39m[32m 16[2mms[22m[39m
[31m     â†’ expected "log" to be called with arguments: [ Array(1) ][90m

Received: 

[1m  1st log call:

[22m[2m  [[22m
[32m-   "SSE: Already connected or connecting",[90m
[31m+   "SSE: Connecting to",[90m
[31m+   "http://localhost:8000/api/v1/events/stream",[90m
[2m  ][22m
[31m[90m

Number of calls: [1m1[22m
[31m[39m
   [32mâœ“[39m SSEEventManager[2m > [22mConnection Management[2m > [22mshould disconnect properly[32m 2[2mms[22m[39m
   [32mâœ“[39m SSEEventManager[2m > [22mEvent Listening[2m > [22mshould register event listeners[32m 0[2mms[22m[39m
   [32mâœ“[39m SSEEventManager[2m > [22mEvent Listening[2m > [22mshould remove event listeners[32m 1[2mms[22m[39m
   [32mâœ“[39m SSEEventManager[2m > [22mEvent Listening[2m > [22mshould handle multiple listeners for same event[32m 1[2mms[22m[39m
[31m   [31mÃ—[31m SSEEventManager[2m > [22mEvent Processing[2m > [22mshould process chat message chunk events[39m[32m 22[2mms[22m[39m
[31m     â†’ Cannot read properties of null (reading 'simulateMessage')[39m
[31m   [31mÃ—[31m SSEEventManager[2m > [22mEvent Processing[2m > [22mshould process workflow status events[39m[32m 22[2mms[22m[39m
[31m     â†’ Cannot read properties of null (reading 'simulateMessage')[39m
[31m   [31mÃ—[31m SSEEventManager[2m > [22mEvent Processing[2m > [22mshould process document processing events[39m[32m 22[2mms[22m[39m
[31m     â†’ Cannot read properties of null (reading 'simulateMessage')[39m
   [32mâœ“[39m SSEEventManager[2m > [22mConnection Health[2m > [22mshould track connection metrics[32m 2[2mms[22m[39m
   [32mâœ“[39m SSEEventManager[2m > [22mConnection Health[2m > [22mshould increment event count on messages[32m 2[2mms[22m[39m
[31m   [31mÃ—[31m SSEEventManager[2m > [22mReconnection Logic[2m > [22mshould attempt reconnection on connection loss[39m[32m 4[2mms[22m[39m
[31m     â†’ Cannot read properties of null (reading 'dispatchEvent')[39m
   [32mâœ“[39m SSEEventManager[2m > [22mError Handling[2m > [22mshould handle malformed messages gracefully[32m 2[2mms[22m[39m
[31m   [31mÃ—[31m SSEEventManager[2m > [22mError Handling[2m > [22mshould handle connection errors[39m[32m 2[2mms[22m[39m
[31m     â†’ Cannot read properties of null (reading 'dispatchEvent')[39m
   [32mâœ“[39m SSEEventManager[2m > [22mCleanup[2m > [22mshould cleanup resources on disconnect[32m 2[2mms[22m[39m
[90mstderr[2m | Console.mockCall (file:/home/runner/work/chatter/chatter/frontend/node_modules/@vitest/spy/dist/index.js:96:15)
[22m[39mSSE: Connection error TypeError: fetch failed
[90m    at node:internal/deps/undici/undici:13510:13[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at SSEEventManager.connectWithFetch [90m(/home/runner/work/chatter/chatter/frontend/[39msrc/services/sse-manager.ts:169:24[90m)[39m {
  [cause]: AggregateError: 
  [90m    at internalConnectMultiple (node:net:1122:18)[39m
  [90m    at afterConnectMultiple (node:net:1689:7)[39m {
    code: [32m'ECONNREFUSED'[39m,
    [errors]: [ [36m[Error][39m, [36m[Error][39m ]
  }
}

[90mstderr[2m | Console.mockCall (file:/home/runner/work/chatter/chatter/frontend/node_modules/@vitest/spy/dist/index.js:96:15)
[22m[39mSSE: Connection error TypeError: fetch failed
[90m    at node:internal/deps/undici/undici:13510:13[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at SSEEventManager.connectWithFetch [90m(/home/runner/work/chatter/chatter/frontend/[39msrc/services/sse-manager.ts:169:24[90m)[39m {
  [cause]: AggregateError: 
  [90m    at internalConnectMultiple (node:net:1122:18)[39m
  [90m    at afterConnectMultiple (node:net:1689:7)[39m {
    code: [32m'ECONNREFUSED'[39m,
    [errors]: [ [36m[Error][39m, [36m[Error][39m ]
  }
}

[90mstderr[2m | Console.mockCall (file:/home/runner/work/chatter/chatter/frontend/node_modules/@vitest/spy/dist/index.js:96:15)
[22m[39mSSE: Connection error TypeError: fetch failed
[90m    at node:internal/deps/undici/undici:13510:13[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at SSEEventManager.connectWithFetch [90m(/home/runner/work/chatter/chatter/frontend/[39msrc/services/sse-manager.ts:169:24[90m)[39m {
  [cause]: AggregateError: 
  [90m    at internalConnectMultiple (node:net:1122:18)[39m
  [90m    at afterConnectMultiple (node:net:1689:7)[39m {
    code: [32m'ECONNREFUSED'[39m,
    [errors]: [ [36m[Error][39m, [36m[Error][39m ]
  }
}

[90mstderr[2m | Console.mockCall (file:/home/runner/work/chatter/chatter/frontend/node_modules/@vitest/spy/dist/index.js:96:15)
[22m[39mSSE: Connection error TypeError: fetch failed
[90m    at node:internal/deps/undici/undici:13510:13[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at SSEEventManager.connectWithFetch [90m(/home/runner/work/chatter/chatter/frontend/[39msrc/services/sse-manager.ts:169:24[90m)[39m {
  [cause]: AggregateError: 
  [90m    at internalConnectMultiple (node:net:1122:18)[39m
  [90m    at afterConnectMultiple (node:net:1689:7)[39m {
    code: [32m'ECONNREFUSED'[39m,
    [errors]: [ [36m[Error][39m, [36m[Error][39m ]
  }
}

[90mstderr[2m | Console.mockCall (file:/home/runner/work/chatter/chatter/frontend/node_modules/@vitest/spy/dist/index.js:96:15)
[22m[39mSSE: Connection error TypeError: fetch failed
[90m    at node:internal/deps/undici/undici:13510:13[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at SSEEventManager.connectWithFetch [90m(/home/runner/work/chatter/chatter/frontend/[39msrc/services/sse-manager.ts:169:24[90m)[39m {
  [cause]: AggregateError: 
  [90m    at internalConnectMultiple (node:net:1122:18)[39m
  [90m    at afterConnectMultiple (node:net:1689:7)[39m {
    code: [32m'ECONNREFUSED'[39m,
    [errors]: [ [36m[Error][39m, [36m[Error][39m ]
  }
}

[90mstderr[2m | Console.mockCall (file:/home/runner/work/chatter/chatter/frontend/node_modules/@vitest/spy/dist/index.js:96:15)
[22m[39mSSE: Connection error TypeError: fetch failed
[90m    at node:internal/deps/undici/undici:13510:13[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at SSEEventManager.connectWithFetch [90m(/home/runner/work/chatter/chatter/frontend/[39msrc/services/sse-manager.ts:169:24[90m)[39m {
  [cause]: AggregateError: 
  [90m    at internalConnectMultiple (node:net:1122:18)[39m
  [90m    at afterConnectMultiple (node:net:1689:7)[39m {
    code: [32m'ECONNREFUSED'[39m,
    [errors]: [ [36m[Error][39m, [36m[Error][39m ]
  }
}

[90mstderr[2m | src/hooks/__tests__/useApi.test.tsx[2m > [22m[2museApi hook[2m > [22m[2mshould make call when execute is called manually
[22m[39mAn update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/hooks/__tests__/useApi.test.tsx[2m > [22m[2museApi hook[2m > [22m[2mshould make call when execute is called manually
[22m[39mAn update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | src/hooks/__tests__/useApi.test.tsx[2m > [22m[2museApi hook[2m > [22m[2mshould not cause infinite loop with anonymous function and immediate=true
[22m[39mAn update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 [32mâœ“[39m src/hooks/__tests__/useApi.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[33m 1358[2mms[22m[39m
   [33m[2mâœ“[22m[39m useApi hook[2m > [22mshould not cause infinite loop with anonymous function and immediate=true [33m 509[2mms[22m[39m
   [33m[2mâœ“[22m[39m useApi hook[2m > [22mshould handle DashboardPage-like component pattern correctly [33m 509[2mms[22m[39m
 [32mâœ“[39m src/components/__tests__/Chat.test.tsx [2m([22m[2m8 tests[22m[2m)[22m[32m 234[2mms[22m[39m
 [32mâœ“[39m src/components/__tests__/CustomScrollbar.test.tsx [2m([22m[2m4 tests[22m[2m)[22m[32m 73[2mms[22m[39m
 [32mâœ“[39m src/hooks/__tests__/useFormFix.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[32m 40[2mms[22m[39m
 [32mâœ“[39m src/services/__tests__/toast-service.test.ts [2m([22m[2m31 tests[22m[2m)[22m[32m 21[2mms[22m[39m
[90mstderr[2m | src/pages/__tests__/DocumentsPage.test.tsx[2m > [22m[2mDocumentsPage[2m > [22m[2mcalls API on mount
[22m[39mAn update to CrudDataTable inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to CrudDataTable inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to CrudDataTable inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 [32mâœ“[39m src/App.test.tsx [2m([22m[2m1 test[22m[2m)[22m[32m 28[2mms[22m[39m
 [32mâœ“[39m src/pages/__tests__/ABTestingPage.test.tsx [2m([22m[2m4 tests[22m[2m)[22m[32m 202[2mms[22m[39m
 [32mâœ“[39m src/hooks/__tests__/useForm.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[32m 20[2mms[22m[39m
 [31mâ¯[39m src/pages/__tests__/DocumentsPage.test.tsx [2m([22m[2m5 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 1749[2mms[22m[39m
   [33m[2mâœ“[22m[39m DocumentsPage[2m > [22mloads and displays documents [33m 351[2mms[22m[39m
   [32mâœ“[39m DocumentsPage[2m > [22mcalls API on mount[32m 76[2mms[22m[39m
[31m   [31mÃ—[31m DocumentsPage[2m > [22mdisplays error message when API call fails[39m[33m 1077[2mms[22m[39m
[31m     â†’ Unable to find an element with the text: /Failed to load documents/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<div[31m
      [33mclass[31m=[32m"MuiBox-root css-1jcknez"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"MuiBox-root css-1lyuca0"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"MuiToolbar-root MuiToolbar-gutters MuiToolbar-regular css-12h02h5-MuiToolbar-root"[31m
        [36m>[31m
          [36m<h1[31m
            [33mclass[31m=[32m"MuiTypography-root MuiTypography-h4 css-1bi6s7r-MuiTypography-root"[31m
          [36m>[31m
            [0mDocument Management[0m
          [36m</h1>[31m
          [36m<div[31m
            [33mclass[31m=[32m"MuiBox-root css-axw7ok"[31m
          [36m>[31m
            [36m<button[31m
              [33mclass[31m=[32m"MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary css-1blvszr-MuiButtonBase-root-MuiButton-root"[31m
              [33mtabindex[31m=[32m"0"[31m
              [33mtype[31m=[32m"button"[31m
            [36m>[31m
              [36m<span[31m
                [33mclass[31m=[32m"MuiButton-icon MuiButton-startIcon MuiButton-iconSizeMedium css-1sh91j5-MuiButton-startIcon"[31m
              [36m>[31m
                [36m<svg[31m
                  [33maria-hidden[31m=[32m"true"[31m
                  [33mclass[31m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-1umw9bq-MuiSvgIcon-root"[31m
                  [33mdata-testid[31m=[32m"SearchIcon"[31m
                  [33mfocusable[31m=[32m"false"[31m
                  [33mviewBox[31m=[32m"0 0 24 24"[31m
                [36m>[31m
                  [36m<path[31m
                    [33md[31m=[32m"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"[31m
                  [36m/>[31m
                [36m</svg>[31m
              [36m</span>[31m
              [0mSemantic Search[0m
            [36m</button>[31m
          [36m</div>[31m
        [36m</div>[31m
      [36m</div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"MuiBox-root css-yi2smd"[31m
      [36m>[31m
        [36m<div[31m
          [33mdata-simplebar[31m=[32m"init"[31m
          [33moptions[31m=[32m"[object Object]"[31m
          [33mstyle[31m=[32m"width: 100%; height: 100%; flex: 1 1 0%;"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"simplebar-wrapper"[31m
            [33mstyle[31m=[32m"margin: 0px 0px 0px 0px;"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"simplebar-height-auto-observer-wrapper"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"simplebar-height-auto-observer"[31m
              [36m/>[31m
            [36m</div>[31m
            [36m<div[31m
              [33mclass[31m=[32m"simplebar-mask"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"simplebar-offset"[31m
                [33mstyle[31m=[32m"right: 0px; bottom: 0px;"[31m
              [36m>[31m
                [36m<div[31m
                  [33maria-label[31m=[32m"scrollable content"[31m
                  [33mclass[31m=[32m"simplebar-content-wrapper"[31m
                  [33mrole[31m=[32m"region"[31m
                  [33mstyle[31m=[32m"height: auto; overflow-x: hidden; overflow-y: hidden;"[31m
                  [33mtabindex[31m=[32m"0"[31m
                [36m>[31m
                  [36m<div[31m
                    [33mclass[31m=[32m"simplebar-content"[31m
                    [33mstyle[31m=[32m"padding: 0px 0px 0px 0px;"[31m
                  [36m>[31m
                    [36m<div[31m
                      [33mclass[31m=[32m"MuiBox-root css-1qvh2fy"[31m
                    [36m>[31m
                      [36m<div[31m
                        [33mclass[31m=[32m"MuiBox-root css-8atqhb"[31m
                      [36m>[31m
                        [36m<div[31m
                          [33mclass[31m=[32m"MuiBox-root css-nznorp"[31m
                        [36m>[31m
                          [36m<h1[31m
                            [33mclass[31m=[32m"MuiTypography-root MuiTypography-h4 css-f84ov1-MuiTypography-root"[31m
                          [36m>[31m
                            [0mDocuments[0m
                          [36m</h1>[31m
                          [36m<div[31m
                            [33mclass[31m=[32m"MuiBox-root css-1i27l4i"[31m
                          [36m>[31m
                            [36m<button[31m
                              [33mclass[31m=[32m"MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary css-1blvszr-MuiButtonBase-root-MuiButton-root"[31m
                              [33mtabindex[31m=[32m"0"[31m
                              [33mtype[31m=[32m"button"[31m
                            [36m>[31m
                              [36m<span[31m
                                [33mclass[31m=[32m"MuiButton-icon MuiButton-startIcon MuiButton-iconSizeMedium css-1sh91j5-MuiButton-startIcon"[31m
                              [36m>[31m
                                [36m<svg[31m
                                  [33maria-hidden[31m=[32m"true"[31m
                                  [33mclass[31m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-1umw9bq-MuiSvgIcon-root"[31m
                                  [33mdata-testid[31m=[32m"RefreshIcon"[31m
                                  [33mfocusable[31m=[32m"false"[31m
                                  [33mviewBox[31m=[32m"0 0 24 24"[31m
                                [36m>[31m
                                  [36m<path[31m
                                    [33md[31m=[32m"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"[31m
                                  [36m/>[31m
                                [36m</svg>[31m
                              [36m</span>[31m
                              [0mRefresh[0m
                            [36m</button>[31m
                            [36m<button[31m
                              [33mclass[31m=[32m"MuiButtonBase-root MuiButton-root M...

Ignored nodes: comments, script, style
[36m<html>[31m
  [36m<head>[31m
    [36m<meta[31m
      [33mcontent[31m=[32m""[31m
      [33mname[31m=[32m"emotion-insertion-point"[31m
    [36m/>[31m
  [36m</head>[31m
  [36m<body>[31m
    [36m<div>[31m
      [36m<div[31m
        [33mclass[31m=[32m"MuiBox-root css-1jcknez"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"MuiBox-root css-1lyuca0"[31m
        [36m>[31m
          [36m<div[31m
            [33mclass[31m=[32m"MuiToolbar-root MuiToolbar-gutters MuiToolbar-regular css-12h02h5-MuiToolbar-root"[31m
          [36m>[31m
            [36m<h1[31m
              [33mclass[31m=[32m"MuiTypography-root MuiTypography-h4 css-1bi6s7r-MuiTypography-root"[31m
            [36m>[31m
              [0mDocument Management[0m
            [36m</h1>[31m
            [36m<div[31m
              [33mclass[31m=[32m"MuiBox-root css-axw7ok"[31m
            [36m>[31m
              [36m<button[31m
                [33mclass[31m=[32m"MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary css-1blvszr-MuiButtonBase-root-MuiButton-root"[31m
                [33mtabindex[31m=[32m"0"[31m
                [33mtype[31m=[32m"button"[31m
              [36m>[31m
                [36m<span[31m
                  [33mclass[31m=[32m"MuiButton-icon MuiButton-startIcon MuiButton-iconSizeMedium css-1sh91j5-MuiButton-startIcon"[31m
                [36m>[31m
                  [36m<svg[31m
                    [33maria-hidden[31m=[32m"true"[31m
                    [33mclass[31m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-1umw9bq-MuiSvgIcon-root"[31m
                    [33mdata-testid[31m=[32m"SearchIcon"[31m
                    [33mfocusable[31m=[32m"false"[31m
                    [33mviewBox[31m=[32m"0 0 24 24"[31m
                  [36m>[31m
                    [36m<path[31m
                      [33md[31m=[32m"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"[31m
                    [36m/>[31m
                  [36m</svg>[31m
                [36m</span>[31m
                [0mSemantic Search[0m
              [36m</button>[31m
            [36m</div>[31m
          [36m</div>[31m
        [36m</div>[31m
        [36m<div[31m
          [33mclass[31m=[32m"MuiBox-root css-yi2smd"[31m
        [36m>[31m
          [36m<div[31m
            [33mdata-simplebar[31m=[32m"init"[31m
            [33moptions[31m=[32m"[object Object]"[31m
            [33mstyle[31m=[32m"width: 100%; height: 100%; flex: 1 1 0%;"[31m
          [36m>[31m
            [36m<div[31m
              [33mclass[31m=[32m"simplebar-wrapper"[31m
              [33mstyle[31m=[32m"margin: 0px 0px 0px 0px;"[31m
            [36m>[31m
              [36m<div[31m
                [33mclass[31m=[32m"simplebar-height-auto-observer-wrapper"[31m
              [36m>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"simplebar-height-auto-observer"[31m
                [36m/>[31m
              [36m</div>[31m
              [36m<div[31m
                [33mclass[31m=[32m"simplebar-mask"[31m
              [36m>[31m
                [36m<div[31m
                  [33mclass[31m=[32m"simplebar-offset"[31m
                  [33mstyle[31m=[32m"right: 0px; bottom: 0px;"[31m
                [36m>[31m
                  [36m<div[31m
                    [33maria-label[31m=[32m"scrollable content"[31m
                    [33mclass[31m=[32m"simplebar-content-wrapper"[31m
                    [33mrole[31m=[32m"region"[31m
                    [33mstyle[31m=[32m"height: auto; overflow-x: hidden; overflow-y: hidden;"[31m
                    [33mtabindex[31m=[32m"0"[31m
                  [36m>[31m
                    [36m<div[31m
                      [33mclass[31m=[32m"simplebar-content"[31m
                      [33mstyle[31m=[32m"padding: 0px 0px 0px 0px;"[31m
                    [36m>[31m
                      [36m<div[31m
                        [33mclass[31m=[32m"MuiBox-root css-1qvh2fy"[31m
                      [36m>[31m
                        [36m<div[31m
                          [33mclass[31m=[32m"MuiBox-root css-8atqhb"[31m
                        [36m>[31m
                          [36m<div[31m
                            [33mclass[31m=[32m"MuiBox-root css-nznorp"[31m
                          [36m>[31m
                            [36m<h1[31m
                              [33mclass[31m=[32m"MuiTypography-root MuiTypography-h4 css-f84ov1-MuiTypography-root"[31m
                            [36m>[31m
                              [0mDocuments[0m
                            [36m</h1>[31m
                            [36m<div[31m
                              [33mclass[31m=[32m"MuiBox-root css-1i27l4i"[31m
                            [36m>[31m
                              [36m<button[31m
                                [33mclass[31m=[32m"MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary css-1blvszr-MuiButtonBase-root-MuiButton-root"[31m
                                [33mtabindex[31m=[32m"0"[31m
                                [33mtype[31m=[32m"button"[31m
                              [36m>[31m
                                [36m<span[31m
                                  [33mclass[31m=[32m"MuiButton-icon MuiButton-startIcon MuiButton-iconSizeMedium css-1sh91j5-MuiButton-startIcon"[31m
                                [36m>[31m
                                  [36m<svg[31m
                                    [33maria-hidden[31m=[32m"true"[31m
                                    [33mclass[31m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-1umw9bq-MuiSvgIcon-root"[31m
                                    [33mdata-testid[31m=[32m"RefreshIcon"[31m
                                    [33mfocusable[31m=[32m"false"[31m
                                    [33mviewBox[31m=[32m"0 0 24 24"[31m
                                  [36m>[31m
                                    [36m<path[31m
                                      [33md[31m=[32m"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 ...[39m
   [32mâœ“[39m DocumentsPage[2m > [22mshows document status correctly[32m 132[2mms[22m[39m
   [32mâœ“[39m DocumentsPage[2m > [22mrenders page header correctly[32m 111[2mms[22m[39m
 [32mâœ“[39m src/services/__tests__/chatter-sdk.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/__tests__/api.integration.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 4[2mms[22m[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Failed Tests 7 [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[41m[1m FAIL [22m[49m src/pages/__tests__/DocumentsPage.test.tsx[2m > [22mDocumentsPage[2m > [22mdisplays error message when API call fails
[31m[1mTestingLibraryElementError[22m[39m: Unable to find an element with the text: /Failed to load documents/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"MuiBox-root css-1jcknez"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"MuiBox-root css-1lyuca0"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"MuiToolbar-root MuiToolbar-gutters MuiToolbar-regular css-12h02h5-MuiToolbar-root"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"MuiTypography-root MuiTypography-h4 css-1bi6s7r-MuiTypography-root"[39m
          [36m>[39m
            [0mDocument Management[0m
          [36m</h1>[39m
          [36m<div[39m
            [33mclass[39m=[32m"MuiBox-root css-axw7ok"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary css-1blvszr-MuiButtonBase-root-MuiButton-root"[39m
              [33mtabindex[39m=[32m"0"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"MuiButton-icon MuiButton-startIcon MuiButton-iconSizeMedium css-1sh91j5-MuiButton-startIcon"[39m
              [36m>[39m
                [36m<svg[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-1umw9bq-MuiSvgIcon-root"[39m
                  [33mdata-testid[39m=[32m"SearchIcon"[39m
                  [33mfocusable[39m=[32m"false"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</span>[39m
              [0mSemantic Search[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"MuiBox-root css-yi2smd"[39m
      [36m>[39m
        [36m<div[39m
          [33mdata-simplebar[39m=[32m"init"[39m
          [33moptions[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"width: 100%; height: 100%; flex: 1 1 0%;"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"simplebar-wrapper"[39m
            [33mstyle[39m=[32m"margin: 0px 0px 0px 0px;"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"simplebar-height-auto-observer-wrapper"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"simplebar-height-auto-observer"[39m
              [36m/>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"simplebar-mask"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"simplebar-offset"[39m
                [33mstyle[39m=[32m"right: 0px; bottom: 0px;"[39m
              [36m>[39m
                [36m<div[39m
                  [33maria-label[39m=[32m"scrollable content"[39m
                  [33mclass[39m=[32m"simplebar-content-wrapper"[39m
                  [33mrole[39m=[32m"region"[39m
                  [33mstyle[39m=[32m"height: auto; overflow-x: hidden; overflow-y: hidden;"[39m
                  [33mtabindex[39m=[32m"0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"simplebar-content"[39m
                    [33mstyle[39m=[32m"padding: 0px 0px 0px 0px;"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"MuiBox-root css-1qvh2fy"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"MuiBox-root css-8atqhb"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"MuiBox-root css-nznorp"[39m
                        [36m>[39m
                          [36m<h1[39m
                            [33mclass[39m=[32m"MuiTypography-root MuiTypography-h4 css-f84ov1-MuiTypography-root"[39m
                          [36m>[39m
                            [0mDocuments[0m
                          [36m</h1>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"MuiBox-root css-1i27l4i"[39m
                          [36m>[39m
                            [36m<button[39m
                              [33mclass[39m=[32m"MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary css-1blvszr-MuiButtonBase-root-MuiButton-root"[39m
                              [33mtabindex[39m=[32m"0"[39m
                              [33mtype[39m=[32m"button"[39m
                            [36m>[39m
                              [36m<span[39m
                                [33mclass[39m=[32m"MuiButton-icon MuiButton-startIcon MuiButton-iconSizeMedium css-1sh91j5-MuiButton-startIcon"[39m
                              [36m>[39m
                                [36m<svg[39m
                                  [33maria-hidden[39m=[32m"true"[39m
                                  [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-1umw9bq-MuiSvgIcon-root"[39m
                                  [33mdata-testid[39m=[32m"RefreshIcon"[39m
                                  [33mfocusable[39m=[32m"false"[39m
                                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                                [36m>[39m
                                  [36m<path[39m
                                    [33md[39m=[32m"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"[39m
                                  [36m/>[39m
                                [36m</svg>[39m
                              [36m</span>[39m
                              [0mRefresh[0m
                            [36m</button>[39m
                            [36m<button[39m
                              [33mclass[39m=[32m"MuiButtonBase-root MuiButton-root M...

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head>[39m
    [36m<meta[39m
      [33mcontent[39m=[32m""[39m
      [33mname[39m=[32m"emotion-insertion-point"[39m
    [36m/>[39m
  [36m</head>[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"MuiBox-root css-1jcknez"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"MuiBox-root css-1lyuca0"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"MuiToolbar-root MuiToolbar-gutters MuiToolbar-regular css-12h02h5-MuiToolbar-root"[39m
          [36m>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"MuiTypography-root MuiTypography-h4 css-1bi6s7r-MuiTypography-root"[39m
            [36m>[39m
              [0mDocument Management[0m
            [36m</h1>[39m
            [36m<div[39m
              [33mclass[39m=[32m"MuiBox-root css-axw7ok"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary css-1blvszr-MuiButtonBase-root-MuiButton-root"[39m
                [33mtabindex[39m=[32m"0"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"MuiButton-icon MuiButton-startIcon MuiButton-iconSizeMedium css-1sh91j5-MuiButton-startIcon"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-1umw9bq-MuiSvgIcon-root"[39m
                    [33mdata-testid[39m=[32m"SearchIcon"[39m
                    [33mfocusable[39m=[32m"false"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                [36m</span>[39m
                [0mSemantic Search[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"MuiBox-root css-yi2smd"[39m
        [36m>[39m
          [36m<div[39m
            [33mdata-simplebar[39m=[32m"init"[39m
            [33moptions[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"width: 100%; height: 100%; flex: 1 1 0%;"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"simplebar-wrapper"[39m
              [33mstyle[39m=[32m"margin: 0px 0px 0px 0px;"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"simplebar-height-auto-observer-wrapper"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"simplebar-height-auto-observer"[39m
                [36m/>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"simplebar-mask"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"simplebar-offset"[39m
                  [33mstyle[39m=[32m"right: 0px; bottom: 0px;"[39m
                [36m>[39m
                  [36m<div[39m
                    [33maria-label[39m=[32m"scrollable content"[39m
                    [33mclass[39m=[32m"simplebar-content-wrapper"[39m
                    [33mrole[39m=[32m"region"[39m
                    [33mstyle[39m=[32m"height: auto; overflow-x: hidden; overflow-y: hidden;"[39m
                    [33mtabindex[39m=[32m"0"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"simplebar-content"[39m
                      [33mstyle[39m=[32m"padding: 0px 0px 0px 0px;"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"MuiBox-root css-1qvh2fy"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"MuiBox-root css-8atqhb"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"MuiBox-root css-nznorp"[39m
                          [36m>[39m
                            [36m<h1[39m
                              [33mclass[39m=[32m"MuiTypography-root MuiTypography-h4 css-f84ov1-MuiTypography-root"[39m
                            [36m>[39m
                              [0mDocuments[0m
                            [36m</h1>[39m
                            [36m<div[39m
                              [33mclass[39m=[32m"MuiBox-root css-1i27l4i"[39m
                            [36m>[39m
                              [36m<button[39m
                                [33mclass[39m=[32m"MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary css-1blvszr-MuiButtonBase-root-MuiButton-root"[39m
                                [33mtabindex[39m=[32m"0"[39m
                                [33mtype[39m=[32m"button"[39m
                              [36m>[39m
                                [36m<span[39m
                                  [33mclass[39m=[32m"MuiButton-icon MuiButton-startIcon MuiButton-iconSizeMedium css-1sh91j5-MuiButton-startIcon"[39m
                                [36m>[39m
                                  [36m<svg[39m
                                    [33maria-hidden[39m=[32m"true"[39m
                                    [33mclass[39m=[32m"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-1umw9bq-MuiSvgIcon-root"[39m
                                    [33mdata-testid[39m=[32m"RefreshIcon"[39m
                                    [33mfocusable[39m=[32m"false"[39m
                                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                                  [36m>[39m
                                    [36m<path[39m
                                      [33md[39m=[32m"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 ...
[90m [2mâ¯[22m Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:[2m163:27[22m[39m
[36m [2mâ¯[22m src/pages/__tests__/DocumentsPage.test.tsx:[2m133:11[22m[39m
    [90m131| [39m    )[33m;[39m
    [90m132| [39m
    [90m133| [39m    [35mawait[39m [34mwaitFor[39m(() [33m=>[39m {
    [90m   | [39m          [31m^[39m
    [90m134| [39m      expect(screen.getByText(/Failed to load documents/)).toBeInTheDoâ€¦
    [90m135| [39m    })[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/7]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m src/services/__tests__/sse-manager.test.ts[2m > [22mSSEEventManager[2m > [22mConnection Management[2m > [22mshould not create multiple connections
[31m[1mAssertionError[22m: expected "log" to be called with arguments: [ Array(1) ][90m

Received: 

[1m  1st log call:

[22m[2m  [[22m
[32m-   "SSE: Already connected or connecting",[90m
[31m+   "SSE: Connecting to",[90m
[31m+   "http://localhost:8000/api/v1/events/stream",[90m
[2m  ][22m
[31m[90m

Number of calls: [1m1[22m
[31m[39m
[36m [2mâ¯[22m src/services/__tests__/sse-manager.test.ts:[2m132:26[22m[39m
    [90m130| [39m      sseManager[33m.[39m[34mconnect[39m()[33m;[39m [90m// Second call[39m
    [90m131| [39m      
    [90m132| [39m      expect(consoleSpy).toHaveBeenCalledWith('SSE: Already connected â€¦
    [90m   | [39m                         [31m^[39m
    [90m133| [39m      consoleSpy[33m.[39m[34mmockRestore[39m()[33m;[39m
    [90m134| [39m    })[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/7]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m src/services/__tests__/sse-manager.test.ts[2m > [22mSSEEventManager[2m > [22mEvent Processing[2m > [22mshould process chat message chunk events
[31m[1mTypeError[22m: Cannot read properties of null (reading 'simulateMessage')[39m
[36m [2mâ¯[22m src/services/__tests__/sse-manager.test.ts:[2m198:19[22m[39m
    [90m196| [39m      [90m// Access the private eventSource for testing[39m
    [90m197| [39m      const eventSource = (sseManager as any).eventSource as MockEventâ€¦
    [90m198| [39m      eventSource[33m.[39m[34msimulateMessage[39m(eventData)[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m199| [39m    })[33m;[39m
    [90m200| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[3/7]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m src/services/__tests__/sse-manager.test.ts[2m > [22mSSEEventManager[2m > [22mEvent Processing[2m > [22mshould process workflow status events
[31m[1mTypeError[22m: Cannot read properties of null (reading 'simulateMessage')[39m
[36m [2mâ¯[22m src/services/__tests__/sse-manager.test.ts:[2m220:19[22m[39m
    [90m218| [39m      
    [90m219| [39m      const eventSource = (sseManager as any).eventSource as MockEventâ€¦
    [90m220| [39m      eventSource[33m.[39m[34msimulateMessage[39m(eventData)[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m221| [39m    })[33m;[39m
    [90m222| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[4/7]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m src/services/__tests__/sse-manager.test.ts[2m > [22mSSEEventManager[2m > [22mEvent Processing[2m > [22mshould process document processing events
[31m[1mTypeError[22m: Cannot read properties of null (reading 'simulateMessage')[39m
[36m [2mâ¯[22m src/services/__tests__/sse-manager.test.ts:[2m242:19[22m[39m
    [90m240| [39m      
    [90m241| [39m      const eventSource = (sseManager as any).eventSource as MockEventâ€¦
    [90m242| [39m      eventSource[33m.[39m[34msimulateMessage[39m(eventData)[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m243| [39m    })[33m;[39m
    [90m244| [39m  })[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[5/7]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m src/services/__tests__/sse-manager.test.ts[2m > [22mSSEEventManager[2m > [22mReconnection Logic[2m > [22mshould attempt reconnection on connection loss
[31m[1mTypeError[22m: Cannot read properties of null (reading 'dispatchEvent')[39m
[36m [2mâ¯[22m src/services/__tests__/sse-manager.test.ts:[2m284:19[22m[39m
    [90m282| [39m      [90m// Simulate connection loss[39m
    [90m283| [39m      const eventSource = (sseManager as any).eventSource as MockEventâ€¦
    [90m284| [39m      eventSource[33m.[39m[34mdispatchEvent[39m([35mnew[39m [33mEvent[39m([32m'error'[39m))[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m285| [39m      
    [90m286| [39m      [90m// Should start reconnection process[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[6/7]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m src/services/__tests__/sse-manager.test.ts[2m > [22mSSEEventManager[2m > [22mError Handling[2m > [22mshould handle connection errors
[31m[1mTypeError[22m: Cannot read properties of null (reading 'dispatchEvent')[39m
[36m [2mâ¯[22m src/services/__tests__/sse-manager.test.ts:[2m330:19[22m[39m
    [90m328| [39m      [90m// Simulate connection error[39m
    [90m329| [39m      const eventSource = (sseManager as any).eventSource as MockEventâ€¦
    [90m330| [39m      eventSource[33m.[39m[34mdispatchEvent[39m([35mnew[39m [33mEvent[39m([32m'error'[39m))[33m;[39m
    [90m   | [39m                  [31m^[39m
    [90m331| [39m      
    [90m332| [39m      [34mexpect[39m(consoleSpy)[33m.[39m[34mtoHaveBeenCalled[39m()[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[7/7]âŽ¯[22m[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Unhandled Errors [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m
[31m[1m
Vitest caught 2 unhandled errors during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.[22m[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Uncaught Exception [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m
[31m[1mAssertionError[22m: expected false to be true // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- true[39m
[31m+ false[39m

[36m [2mâ¯[22m Timeout._onTimeout src/services/__tests__/sse-manager.test.ts:[2m122:38[22m[39m
    [90m120| [39m      [90m// Wait for connection to open[39m
    [90m121| [39m      [34msetTimeout[39m(() [33m=>[39m {
    [90m122| [39m        [34mexpect[39m(sseManager[33m.[39mconnected)[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
    [90m   | [39m                                     [31m^[39m
    [90m123| [39m      }[33m,[39m [34m20[39m)[33m;[39m
    [90m124| [39m    })[33m;[39m
[90m [2mâ¯[22m listOnTimeout node:internal/timers:[2m581:17[22m[39m
[90m [2mâ¯[22m processTimers node:internal/timers:[2m519:7[22m[39m

[31mThis error originated in "[1msrc/services/__tests__/sse-manager.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mshould process chat message chunk events[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Uncaught Exception [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m
[31m[1mTypeError[22m: Cannot read properties of null (reading 'simulateMessage')[39m
[36m [2mâ¯[22m Timeout._onTimeout src/services/__tests__/sse-manager.test.ts:[2m266:21[22m[39m
    [90m264| [39m        
    [90m265| [39m        const eventSource = (sseManager as any).eventSource as MockEveâ€¦
    [90m266| [39m        eventSource[33m.[39m[34msimulateMessage[39m(eventData)[33m;[39m
    [90m   | [39m                    [31m^[39m
    [90m267| [39m        
    [90m268| [39m        [34msetTimeout[39m(() [33m=>[39m {
[90m [2mâ¯[22m listOnTimeout node:internal/timers:[2m581:17[22m[39m
[90m [2mâ¯[22m processTimers node:internal/timers:[2m519:7[22m[39m

[31mThis error originated in "[1msrc/services/__tests__/sse-manager.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m


[2m Test Files [22m [1m[31m2 failed[39m[22m[2m | [22m[1m[32m10 passed[39m[22m[90m (12)[39m
[2m      Tests [22m [1m[31m7 failed[39m[22m[2m | [22m[1m[32m83 passed[39m[22m[90m (90)[39m
[2m     Errors [22m [1m[31m2 errors[39m[22m
[2m   Start at [22m 03:20:56
[2m   Duration [22m 9.16s[2m (transform 513ms, setup 821ms, collect 13.33s, tests 3.87s, environment 6.06s, prepare 1.04s)[22m


::error file=/home/runner/work/chatter/chatter/frontend/src/services/__tests__/sse-manager.test.ts,title=Unhandled error,line=122,column=38::AssertionError: expected false to be true // Object.is equality%0A%0A- Expected%0A+ Received%0A%0A- true%0A+ false%0A%0A â¯ Timeout._onTimeout src/services/__tests__/sse-manager.test.ts:122:38%0A â¯ listOnTimeout node:internal/timers:581:17%0A â¯ processTimers node:internal/timers:519:7%0A%0AThis error originated in "src/services/__tests__/sse-manager.test.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.%0AThe latest test that might've caused the error is "should process chat message chunk events". It might mean one of the following:%0A- The error was thrown, while Vitest was running this test.%0A- If the error occurred after the test had been completed, this was the last documented test before it was thrown.%0A

::error file=/home/runner/work/chatter/chatter/frontend/src/services/__tests__/sse-manager.test.ts,title=Unhandled error,line=266,column=21::TypeError: Cannot read properties of null (reading 'simulateMessage')%0A â¯ Timeout._onTimeout src/services/__tests__/sse-manager.test.ts:266:21%0A â¯ listOnTimeout node:internal/timers:581:17%0A â¯ processTimers node:internal/timers:519:7%0A%0AThis error originated in "src/services/__tests__/sse-manager.test.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.%0A

::error file=/home/runner/work/chatter/chatter/frontend/src/pages/__tests__/DocumentsPage.test.tsx,title=src/pages/__tests__/DocumentsPage.test.tsx > DocumentsPage > displays error message when API call fails,line=133,column=11::TestingLibraryElementError: Unable to find an element with the text: /Failed to load documents/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.%0A%0AIgnored nodes: comments, script, style%0A<body>%0A  <div>%0A    <div%0A      class="MuiBox-root css-1jcknez"%0A    >%0A      <div%0A        class="MuiBox-root css-1lyuca0"%0A      >%0A        <div%0A          class="MuiToolbar-root MuiToolbar-gutters MuiToolbar-regular css-12h02h5-MuiToolbar-root"%0A        >%0A          <h1%0A            class="MuiTypography-root MuiTypography-h4 css-1bi6s7r-MuiTypography-root"%0A          >%0A            Document Management%0A          </h1>%0A          <div%0A            class="MuiBox-root css-axw7ok"%0A          >%0A            <button%0A              class="MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary css-1blvszr-MuiButtonBase-root-MuiButton-root"%0A              tabindex="0"%0A              type="button"%0A            >%0A              <span%0A                class="MuiButton-icon MuiButton-startIcon MuiButton-iconSizeMedium css-1sh91j5-MuiButton-startIcon"%0A              >%0A                <svg%0A                  aria-hidden="true"%0A                  class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-1umw9bq-MuiSvgIcon-root"%0A                  data-testid="SearchIcon"%0A                  focusable="false"%0A                  viewBox="0 0 24 24"%0A                >%0A                  <path%0A                    d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"%0A                  />%0A                </svg>%0A              </span>%0A              Semantic Search%0A            </button>%0A          </div>%0A        </div>%0A      </div>%0A      <div%0A        class="MuiBox-root css-yi2smd"%0A      >%0A        <div%0A          data-simplebar="init"%0A          options="[object Object]"%0A          style="width: 100%25; height: 100%25; flex: 1 1 0%25;"%0A        >%0A          <div%0A            class="simplebar-wrapper"%0A            style="margin: 0px 0px 0px 0px;"%0A          >%0A            <div%0A              class="simplebar-height-auto-observer-wrapper"%0A            >%0A              <div%0A                class="simplebar-height-auto-observer"%0A              />%0A            </div>%0A            <div%0A              class="simplebar-mask"%0A            >%0A              <div%0A                class="simplebar-offset"%0A                style="right: 0px; bottom: 0px;"%0A              >%0A                <div%0A                  aria-label="scrollable content"%0A                  class="simplebar-content-wrapper"%0A                  role="region"%0A                  style="height: auto; overflow-x: hidden; overflow-y: hidden;"%0A                  tabindex="0"%0A                >%0A                  <div%0A                    class="simplebar-content"%0A                    style="padding: 0px 0px 0px 0px;"%0A                  >%0A                    <div%0A                      class="MuiBox-root css-1qvh2fy"%0A                    >%0A                      <div%0A                        class="MuiBox-root css-8atqhb"%0A                      >%0A                        <div%0A                          class="MuiBox-root css-nznorp"%0A                        >%0A                          <h1%0A                            class="MuiTypography-root MuiTypography-h4 css-f84ov1-MuiTypography-root"%0A                          >%0A                            Documents%0A                          </h1>%0A                          <div%0A                            class="MuiBox-root css-1i27l4i"%0A                          >%0A                            <button%0A                              class="MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary css-1blvszr-MuiButtonBase-root-MuiButton-root"%0A                              tabindex="0"%0A                              type="button"%0A                            >%0A                              <span%0A                                class="MuiButton-icon MuiButton-startIcon MuiButton-iconSizeMedium css-1sh91j5-MuiButton-startIcon"%0A                              >%0A                                <svg%0A                                  aria-hidden="true"%0A                                  class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-1umw9bq-MuiSvgIcon-root"%0A                                  data-testid="RefreshIcon"%0A                                  focusable="false"%0A                                  viewBox="0 0 24 24"%0A                                >%0A                                  <path%0A                                    d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"%0A                                  />%0A                                </svg>%0A                              </span>%0A                              Refresh%0A                            </button>%0A                            <button%0A                              class="MuiButtonBase-root MuiButton-root M...%0A%0AIgnored nodes: comments, script, style%0A<html>%0A  <head>%0A    <meta%0A      content=""%0A      name="emotion-insertion-point"%0A    />%0A  </head>%0A  <body>%0A    <div>%0A      <div%0A        class="MuiBox-root css-1jcknez"%0A      >%0A        <div%0A          class="MuiBox-root css-1lyuca0"%0A        >%0A          <div%0A            class="MuiToolbar-root MuiToolbar-gutters MuiToolbar-regular css-12h02h5-MuiToolbar-root"%0A          >%0A            <h1%0A              class="MuiTypography-root MuiTypography-h4 css-1bi6s7r-MuiTypography-root"%0A            >%0A              Document Management%0A            </h1>%0A            <div%0A              class="MuiBox-root css-axw7ok"%0A            >%0A              <button%0A                class="MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary css-1blvszr-MuiButtonBase-root-MuiButton-root"%0A                tabindex="0"%0A                type="button"%0A              >%0A                <span%0A                  class="MuiButton-icon MuiButton-startIcon MuiButton-iconSizeMedium css-1sh91j5-MuiButton-startIcon"%0A                >%0A                  <svg%0A                    aria-hidden="true"%0A                    class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-1umw9bq-MuiSvgIcon-root"%0A                    data-testid="SearchIcon"%0A                    focusable="false"%0A                    viewBox="0 0 24 24"%0A                  >%0A                    <path%0A                      d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"%0A                    />%0A                  </svg>%0A                </span>%0A                Semantic Search%0A              </button>%0A            </div>%0A          </div>%0A        </div>%0A        <div%0A          class="MuiBox-root css-yi2smd"%0A        >%0A          <div%0A            data-simplebar="init"%0A            options="[object Object]"%0A            style="width: 100%25; height: 100%25; flex: 1 1 0%25;"%0A          >%0A            <div%0A              class="simplebar-wrapper"%0A              style="margin: 0px 0px 0px 0px;"%0A            >%0A              <div%0A                class="simplebar-height-auto-observer-wrapper"%0A              >%0A                <div%0A                  class="simplebar-height-auto-observer"%0A                />%0A              </div>%0A              <div%0A                class="simplebar-mask"%0A              >%0A                <div%0A                  class="simplebar-offset"%0A                  style="right: 0px; bottom: 0px;"%0A                >%0A                  <div%0A                    aria-label="scrollable content"%0A                    class="simplebar-content-wrapper"%0A                    role="region"%0A                    style="height: auto; overflow-x: hidden; overflow-y: hidden;"%0A                    tabindex="0"%0A                  >%0A                    <div%0A                      class="simplebar-content"%0A                      style="padding: 0px 0px 0px 0px;"%0A                    >%0A                      <div%0A                        class="MuiBox-root css-1qvh2fy"%0A                      >%0A                        <div%0A                          class="MuiBox-root css-8atqhb"%0A                        >%0A                          <div%0A                            class="MuiBox-root css-nznorp"%0A                          >%0A                            <h1%0A                              class="MuiTypography-root MuiTypography-h4 css-f84ov1-MuiTypography-root"%0A                            >%0A                              Documents%0A                            </h1>%0A                            <div%0A                              class="MuiBox-root css-1i27l4i"%0A                            >%0A                              <button%0A                                class="MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary css-1blvszr-MuiButtonBase-root-MuiButton-root"%0A                                tabindex="0"%0A                                type="button"%0A                              >%0A                                <span%0A                                  class="MuiButton-icon MuiButton-startIcon MuiButton-iconSizeMedium css-1sh91j5-MuiButton-startIcon"%0A                                >%0A                                  <svg%0A                                    aria-hidden="true"%0A                                    class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-1umw9bq-MuiSvgIcon-root"%0A                                    data-testid="RefreshIcon"%0A                                    focusable="false"%0A                                    viewBox="0 0 24 24"%0A                                  >%0A                                    <path%0A                                      d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 ...%0A â¯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27%0A â¯ src/pages/__tests__/DocumentsPage.test.tsx:133:11%0A%0A

::error file=/home/runner/work/chatter/chatter/frontend/src/services/__tests__/sse-manager.test.ts,title=src/services/__tests__/sse-manager.test.ts > SSEEventManager > Connection Management > should not create multiple connections,line=132,column=26::AssertionError: expected "log" to be called with arguments: [ Array(1) ]%0A%0AReceived: %0A%0A  1st log call:%0A%0A  [%0A-   "SSE: Already connected or connecting",%0A+   "SSE: Connecting to",%0A+   "http://localhost:8000/api/v1/events/stream",%0A  ]%0A%0A%0ANumber of calls: 1%0A%0A â¯ src/services/__tests__/sse-manager.test.ts:132:26%0A%0A

::error file=/home/runner/work/chatter/chatter/frontend/src/services/__tests__/sse-manager.test.ts,title=src/services/__tests__/sse-manager.test.ts > SSEEventManager > Event Processing > should process chat message chunk events,line=198,column=19::TypeError: Cannot read properties of null (reading 'simulateMessage')%0A â¯ src/services/__tests__/sse-manager.test.ts:198:19%0A%0A

::error file=/home/runner/work/chatter/chatter/frontend/src/services/__tests__/sse-manager.test.ts,title=src/services/__tests__/sse-manager.test.ts > SSEEventManager > Event Processing > should process workflow status events,line=220,column=19::TypeError: Cannot read properties of null (reading 'simulateMessage')%0A â¯ src/services/__tests__/sse-manager.test.ts:220:19%0A%0A

::error file=/home/runner/work/chatter/chatter/frontend/src/services/__tests__/sse-manager.test.ts,title=src/services/__tests__/sse-manager.test.ts > SSEEventManager > Event Processing > should process document processing events,line=242,column=19::TypeError: Cannot read properties of null (reading 'simulateMessage')%0A â¯ src/services/__tests__/sse-manager.test.ts:242:19%0A%0A

::error file=/home/runner/work/chatter/chatter/frontend/src/services/__tests__/sse-manager.test.ts,title=src/services/__tests__/sse-manager.test.ts > SSEEventManager > Reconnection Logic > should attempt reconnection on connection loss,line=284,column=19::TypeError: Cannot read properties of null (reading 'dispatchEvent')%0A â¯ src/services/__tests__/sse-manager.test.ts:284:19%0A%0A

::error file=/home/runner/work/chatter/chatter/frontend/src/services/__tests__/sse-manager.test.ts,title=src/services/__tests__/sse-manager.test.ts > SSEEventManager > Error Handling > should handle connection errors,line=330,column=19::TypeError: Cannot read properties of null (reading 'dispatchEvent')%0A â¯ src/services/__tests__/sse-manager.test.ts:330:19%0A%0A
